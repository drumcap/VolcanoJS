<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta charset="utf-8"/>
    <title>UIComponent AddElement Test</title>

    <script src="http://underscorejs.org/underscore-min.js"></script>
    <script src="http://code.jquery.com/jquery-1.7.2.min.js"></script>
    <script src="http://code.createjs.com/easeljs-0.4.2.min.js"></script>
    <!--<script src="../src/core/Core.js"></script>-->
    <!--<script src="../src/core/VolcanoSprite.js"></script>-->
    <!--<script src="../src/core/UIComponent.js"></script>-->
    <!--<script src="../src/managers/SystemManager.js"></script>-->
    <!--<script src="../src/managers/LayoutManager.js"></script>-->
    <!--<script src="../src/utils/ColorUtil.js"></script>-->
    <!--<script src="../src/geom/Point.js"></script>-->
    <!--<script src="../src/geom/Rectangle.js"></script>-->
    <!--<script src="../src/layouts/LayoutBase.js"></script>-->
    <script src="../lib/volcanojs.js"></script>

    <script>

        var a, spr,sysMgr;
        var b, c;
        function onLoadHandler() {
            sysMgr = new volcano.SystemManager();
            sysMgr.setName("systemManager");
            sysMgr.addEventListener("resize", function () {
            });
            var aa = 0;
            var efCallback = function () {
                console.log(aa++);
                if (aa > 5)
                    sysMgr.removeEnterFrameListener(efCallback);
            };
            var efCallback2 = function () {
                console.log("callback2!!!");
            };
//            sysMgr.addEnterFrameListener(efCallback);
//            sysMgr.addEnterFrameListener(efCallback2);


            volcano.UIComponent.randomColorMode = true;
            application = new volcano.UIComponent().setName("application");

            sysMgr.addElement(application);

            a = new volcano.UIComponent();
            a.setWidth(window.screen.width).setHeight(window.screen.width).setName("a");
            b = new volcano.UIComponent();

            b.setWidth(window.screen.width).setHeight(window.screen.width).setName("b");
            c = new volcano.UIComponent();

            c.setWidth(window.screen.width).setHeight(window.screen.width).setName("c");

//            a.addEventListener("creationComplete", callEvent);
//            b.addEventListener("creationComplete", callEvent);
//            c.addEventListener("creationComplete", callEvent);
//
//            a.addEventListener("preinitialize", callEventA);
//            b.addEventListener("preinitialize", callEventA);
//            c.addEventListener("preinitialize", callEventA);
//
//            a.addEventListener("initialize", callEventB);
//            b.addEventListener("initialize", callEventB);
//            c.addEventListener("initialize", callEventB);

            application.addElement(a);
            a.addElement(b);
            b.addElement(c);

//            console.log("systemManager :  " + sysMgr.getNestLevel());
//            console.log("application :  " + application.getNestLevel());
//            console.log("uiCom :  " + uiCom.getNestLevel());
//            console.log("childUI :  " + childUi.getNestLevel());
//            console.log("te :  " + te.getNestLevel());
            console.log("------------------------------------------------");
//            setInterval(testFun, 3000);
//            uiCom.invalidateProperties();

//            uiCom.removeElement(childUi);
//            console.log("childUI :  " + childUi.getNestLevel());
//            application.addElement(childUi);
//            application.removeElement(uiCom)
//            uiCom.addElement(te);

//            console.log("systemManager :  " + sysMgr.getNestLevel());
//            console.log("application :  " + application.getNestLevel());
//            console.log("uiCom :  " + uiCom.getNestLevel());
//            console.log("childUI :  " + childUi.getNestLevel());
//            console.log("te :  " + te.getNestLevel());

        }

        function callEvent(event){
            console.log("creationComplete ---------- : " + event.volcanoCurrentTarget.getName());
        };

        function callEventA(event){
            console.log("preinitialize ---------- : " + event.volcanoCurrentTarget.getName());
        };

        function callEventB(event){
            console.log("initialize ---------- : " + event.volcanoCurrentTarget.getName());
        };

//        function testFun(){
//            a.invalidateProperties();
//            a.invalidateDisplayList();
//            a.invalidateSize();
//        }

    </script>

</head>
<body onload="onLoadHandler()">
<div id="console"></div>

</body>
</html>