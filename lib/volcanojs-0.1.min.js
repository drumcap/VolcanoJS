/*
* VolcanoJS
* Visit http://volcanojs.com/ for documentation, updates and examples.
*
* Copyright (c) 2012 gstech.co.kr, inc.
* 
* Distributed under the terms of the MIT license.
* http://www.opensource.org/licenses/mit-license.html
*
* This notice shall be included in all copies or substantial portions of the Software.
*/
(function(e){var b=e.volcano,a;a=typeof exports!=="undefined"?exports:e.volcano={};var i=e._;!i&&typeof require!=="undefined"&&(i=require("underscore"),require("backbone"));if(typeof Backbone!=="undefined"&&Backbone)i.extend(a,Backbone),a.BackboneVersion=a.VERSION;else throw Error("volcanojs needs backbonejs library. \n you must include backbonejs before volcanojs");a.VERSION="0.1";a.noConflict=function(){e.volcano=b;return this};a=function(){this.initialize()};a.extend=e.volcano.Model.extend;a.prototype.initialize=
function(){};e.volcano.Core=a})(window);(function(e){var b=function(){this.initialize()},a=b.prototype=new volcano.Core;a.Core_initialize=a.initialize;a.initialize=function(){this.Core_initialize()};a.addEventListener=a.on=a.bind=e.volcano.Events.on;a.removeEventListener=a.off=a.unbind=e.volcano.Events.off;a.dispatchEvent=a.trigger=e.volcano.Events.trigger;e.volcano.EventDispatcher=b})(window);(function(e){var b=function(){this.initialize()};b._eventSplitter=/\s+/;b.randomColorMode=false;var a=b.prototype=new volcano.Core;a._domElement=null;a._elementsContent=null;a.eventCallback=null;a.parent=null;a._alpha=1;a.Core_initialize=a.initialize;a.initialize=function(){this._domElement={};this._elementsContent=[];this.eventCallback={};this.parent={};this.Core_initialize();var a=this._width,g=this._height,f=document.createElement("div");f.style.left="0px";f.style.top="0px";f.style.width=a+"px";
f.style.height=g+"px";f.style.webkitTransform="translateZ(0px)";f.style.webkitTransformStyle="preserve-3d";if(b.randomColorMode)f.style.backgroundColor=volcano.ColorUtil.getRandomColor();f.style.position="absolute";this._domElement=f;this._domElement.volcanoObj=this};a.addEventListener=function(a,g){var f,c,d,j,h,e,k,l,n;if(!a&&!g)return this;a=a.split(b._eventSplitter);f=this._callbacks||(this._callbacks={});for(e=function(a){if(a){if(!k||l!=a.target)k=l=a.target;if(!k.volcanoObj){k=k.parentNode;
e.call(this,a);return}a.volcanoCurrentTarget=this.volcanoObj;a.volcanoTarget=k.volcanoObj;a.domCurrentTarget=a.currentTarget;a.domTarget=a.target;_.extend(n={},a);n.currentTarget=a.volcanoCurrentTarget;n.target=a.volcanoTarget;n.constructor=a.constructor}g(n)};c=a.shift();)d=(h=f[c])?h.tail:{},d.next=j={},d.callback=e,f[c]={tail:j,next:h?h.next:d},this._domElement.addEventListener(c,e);return this};a.removeEventListener=function(a,g){var f,c,d,j,h;if(c=this._callbacks){if(!a&&!g)return this;for(a=
a.split(b._eventSplitter);f=a.shift();)if(d=c[f],delete c[f],d&&g)for(j=d.tail;(d=d.next)!==j;)h=d.callback,this._domElement.removeEventListener(f,h);return this}};a.dispatchEvent=function(a,g){var f,c;if(_.isString(a))for(a=a.split(b._eventSplitter);f=a.shift();)g?g=true:g=false,c=document.createEvent("CustomEvent"),c.initCustomEvent(f,g,false,{}),this._domElement.dispatchEvent(c);else _.isObject(a)&&this._domElement.dispatchEvent(a);return this};a._width=0;a.getWidth=function(){return this._width};
a.setWidth=function(a){this._width=a;this._domElement.style.width=a+"px";return this};a._height=0;a.getHeight=function(){return this._height};a.setHeight=function(a){this._height=a;this._domElement.style.height=a+"px";return this};a._percentWidth=0;a.getPercentWidth=function(){return this._percentWidth};a.setPercentWidth=function(a){this._percentWidth=a;this._domElement.style.width=a+"%";return this};a._percentHeight=0;a.getPercentHeight=function(){return this._percentHeight};a.setPercentHeight=function(a){this._percentHeight=
a;this._domElement.style.height=a+"%";return this};a._x=0;a.getX=function(){return this._x};a.setX=function(a){this._x=a;this._domElement.style.left=a+"px";return this};a._y=0;a.getY=function(){return this._y};a.setY=function(a){this._y=a;this._domElement.style.top=a+"px";return this};a._name="";a.getName=function(){return this._name};a.setName=function(a){this._name=a;return this};a._id="";a.getId=function(){return this._id};a.setId=function(a){this._id=a;this._domElement.id=a;return this};a._checkRangeError=
function(a,b){var f=this._elementsContent.length-1;b&&f++;if(a<0||a>f)throw"Elements Range Error";};a._elementAdded=function(a,b,f){a.parent=this;var c=this._domElement,a=a._domElement,d=0;c.children.length>0&&(d=c.children[0].localName==="canvas"?1:0);c.children.length-d===b?c.appendChild(a):(console.log(this.getElementAt(b)._domElement),c.insertBefore(a,this.getElementAt(b)._domElement));f&&this.dispatchEvent("elementAdded")};a._elementRemoved=function(a,b,f){a.parent=null;this._domElement.removeChild(a._domElement);
f&&this.dispatchEvent("elementRemoved")};a.getNumElements=function(){return this._elementsContent.length};a.getElementAt=function(a){this._checkRangeError(a,false);return this._elementsContent[a]};a.addElement=function(a){var b=this.getNumElements();a.parent===this&&(b=this.getNumElements()-1);return this.addElementAt(a,b)};a.addElementAt=function(a,g){if(a===this)throw"Cannot add yourself as your Child";this._checkRangeError(g,true);var f=a.parent;if(f===this)return this.setElementIndex(a,g),a;else f instanceof
b&&f.removeElement(a);this._elementsContent.splice(g,0,a);this._elementAdded(a,g);return a};a.removeElement=function(a){return this.removeElementAt(this.getElementIndex(a))};a.removeElementAt=function(a){this._checkRangeError(a);this._elementRemoved(this._elementsContent[a],a);this._elementsContent.splice(a,1)};a.removeAllElements=function(){for(var a=this.getNumElements()-1;a>=0;a--)this.removeElementAt(a)};a.getElementIndex=function(a){return _.indexOf(this._elementsContent,a)};a.setElementIndex=
function(a,b){this._checkRangeError(b);this.getElementIndex(a)!==b&&(this.removeElement(a),this.addElementAt(a,b))};a.setAlpha=function(a){this._alpha=a;this._domElement.style.opacity=a;return this};a.getAlpha=function(){return this._alpha};a._visible=false;a.setVisible=function(a){var b;this._visible=a;a===true?b="visible":b="hidden";this._domElement.style.visibility=b;return this};a.getVisible=function(){return this._visible};e.volcano.VSprite=b})(window);(function(e){var b=function(a){this.initialize(a)},a=b.prototype=new volcano.VSprite;a.VSprite_initialize=a.initialize;a.instance=null;a._nestLevel=0;a._body=null;a._onEnterFrameItems=null;a.initialize=function(a){this.instance={};this._body={};this._onEnterFrameItems=[];this.VSprite_initialize();Ticker.setFPS(this._fps);Ticker.addListener(this);this.setWidth(e.innerWidth).setHeight(e.innerHeight).setId("systemManager");a?this._body=a:this._body=document.body;this._body.appendChild(this._domElement);
this._domElement.style.overflow="hidden";this._nestLevel=1;volcano.LayoutManager.systemManager=this;var b=this.instance=this;e.addEventListener("resize",function(){b.setWidth(e.innerWidth).setHeight(e.innerHeight);b.dispatchEvent("resize")})};a.getNestLevel=function(){return this._nestLevel};a._fps=24;a.setFrameRate=function(a){this._fps=a;Ticker.setFPS(a);return this};a.getFrameRate=function(){return this._fps};a.VSprite__elementAdded=a._elementAdded;a._elementAdded=function(a,b,f){this.VSprite__elementAdded(a,
b,f);a.setNestLevel&&a.setNestLevel(this.getNestLevel()+1);a.getInitialized&&a.getInitialized()&&a.initComponent()};a.enterFrameEventMode=false;a.tick=function(){var a=this._onEnterFrameItems.length;this.enterFrameEventMode&&this.dispatchEvent("enterFrame");for(var b=0;b<a;b++)if(_.isFunction(this._onEnterFrameItems[b]))this._onEnterFrameItems[b]()};a.addEnterFrameListener=function(a,b){if(_.indexOf(this._onEnterFrameItems,a)!==-1)return this;b?b=true:b=false;b?this._onEnterFrameItems.unshift(a):
this._onEnterFrameItems.push(a);return this};a.removeEnterFrameListener=function(a){this._onEnterFrameItems.splice(_.indexOf(this._onEnterFrameItems,a),1);return this};e.volcano.SystemManager=b})(window);(function(e){var b=function(){throw"LayoutManager cannot be initialized.";},a=function(){this._priorityBins=[];var a=0,b=-1;this.addObject=function(c,d){b<a?a=b=d:(d<a&&(a=d),d>b&&(b=d));var j=this._priorityBins[d];j?_.indexOf(j.items,c)!==1&&(j.items.push(c),j.length++):(j=new f,this._priorityBins[d]=j,j.items.push(c),j.length++)};this.removeLargest=function(){var c=null;if(a<=b){for(var d=this._priorityBins[b];!d||d.length===0;){b--;if(b<a)return null;d=this._priorityBins[b]}for(;0<d.items.length;){c=
d.items[0];this.removeChild(d.items[0],b);break}for(;!d||d.length===0;){b--;if(b<a)break;d=this._priorityBins[b]}}return c};this.removeLargestChild=function(a){for(var i=b,f=a.getNestLevel();f<=i;){var h=this._priorityBins[i];if(h&&h.length>0){if(i===a.getNestLevel())for(var e=0;e<h.items.length;e++){if(a===h.items[e])return this.removeChild(h.items[e],i),a}else for(e=0;e<h.items.length;e++)if(h.items[e]instanceof volcano.UIComponent&&a===h.items[e])return this.removeChild(h.items[e],i),h.items[e];
i--}else if(i===b&&b--,i--,i<f)break}return null};this.removeSmallest=function(){var c=null;if(a<=b){for(var d=this._priorityBins[a];!d||d.length===0;){a++;if(a>b)return null;d=this._priorityBins[a]}for(;0<d.items.length;){c=d.items[0];this.removeChild(d.items[0],a);break}for(;!d||d.length===0;){a++;if(a>b)break;d=this._priorityBins[a]}}return c};this.removeSmallestChild=function(c){for(var d=c.getNestLevel();d<=b;){var f=this._priorityBins[d];if(f&&f.length>0){if(d===c.getNestLevel())for(var e=0;e<
f.items.length;e++)c===f.items[e]&&this.removeChild(c,d);else for(var m in f.items)for(e=0;e<f.items.length;e++)if(f.items[e]instanceof volcano.UIComponent&&c===f.items[e])return this.removeChild(f.items[e],d),f.items[e];d++}else if(d===a&&a++,d++,d>b)break}return null};this.removeChild=function(a,b){for(var g=this._priorityBins[b>=0?b:a.getNestLevel()],i=0;i<g.items.length;i++)if(g.items[i]===a)return g.items.splice(i,1),g.length--,a;return null};this.removeAll=function(){a=this._priorityBins.length=
0;b=-1};this.isEmpty=function(){return a>b};var f=function(){this.length=0;this.items=[]}};b.systemManager=null;b._updateCompleteQueue=new a;b._invalidatePropertiesQueue=new a;b._invalidatePropertiesFlag=false;b._invalidateClientPropertiesFlag=false;b._invalidateSizeQueue=new a;b._invalidateSizeFlag=false;b._invalidateClientSizeFlag=false;b._invalidateDisplayListQueue=new a;b._invalidateDisplayListFlag=false;b._waitAFrame=false;b._listenersAttached=false;b._originalFrameRate=NaN;b._targetLevel=Number.MAX_VALUE;
b._currentObject={};b._usePhasedInstantiation=false;b.getUsePhasedInstantiation=function(){return b._usePhasedInstantiation};b.setUsePhasedInstantiation=function(a){if(b._usePhasedInstantiation!==a)b._usePhasedInstantiation=a};b.invalidateProperties=function(a){if(!b._invalidatePropertiesFlag)b._invalidatePropertiesFlag=true,b._listenersAttached||b.attachListeners(b.systemManager);if(b._targetLevel<=a.getNestLevel())b._invalidateClientPropertiesFlag=true;b._invalidatePropertiesQueue.addObject(a,a.getNestLevel())};
b.invalidateSize=function(a){if(!b._invalidateSizeFlag)b._invalidateSizeFlag=true,b._listenersAttached||b.attachListeners(b.systemManager);if(b._targetLevel<=a.getNestLevel())b._invalidateClientSizeFlag=true;b._invalidateSizeQueue.addObject(a,a.getNestLevel())};b.invalidateDisplayList=function(a){if(!b._invalidateDisplayListFlag)b._invalidateDisplayListFlag=true,b._listenersAttached||b.attachListeners(b.systemManager);b._invalidateDisplayListQueue.addObject(a,a.getNestLevel())};b._validateProperties=
function(){for(var a=b._invalidatePropertiesQueue.removeSmallest();a;){if(a.getNestLevel())b._currentObject=a,a.validateProperties(),a.getUpdateCompletePendingFlag()||(b._updateCompleteQueue.addObject(a,a.getNestLevel()),a.setUpdateCompletePendingFlag(true));a=b._invalidatePropertiesQueue.removeSmallest()}if(b._invalidatePropertiesQueue.isEmpty())b._invalidatePropertiesFlag=false};b._validateSize=function(){for(var a=b._invalidateSizeQueue.removeLargest();a;){if(a.getNestLevel())b._currentObject=
a,a.validateSize(),a.getUpdateCompletePendingFlag()||(b._updateCompleteQueue.addObject(a,a.getNestLevel()),a.setUpdateCompletePendingFlag(true));a=b._invalidateSizeQueue.removeLargest()}if(b._invalidateSizeQueue.isEmpty())b._invalidateSizeFlag=false};b._validateDisplayList=function(){for(obj=b._invalidateDisplayListQueue.removeSmallest();obj;){if(obj.getNestLevel())b._currentObject=obj,obj.validateDisplayList(),obj.getUpdateCompletePendingFlag()||(b._updateCompleteQueue.addObject(obj,obj.getNestLevel()),
obj.getUpdateCompletePendingFlag(true));obj=b._invalidateDisplayListQueue.removeSmallest()}if(b._invalidateDisplayListQueue.isEmpty())b._invalidateDisplayListFlag=false};b._doPhasedInstantiation=function(){b.getUsePhasedInstantiation()?b._invalidatePropertiesFlag?b._validateProperties():b._invalidateSizeFlag?b._validateSize():b._invalidateDisplayListFlag&&b._validateDisplayList():(b._invalidatePropertiesFlag&&b._validateProperties(),b._invalidateSizeFlag&&b._validateSize(),b._invalidateDisplayListFlag&&
b._validateDisplayList());if(b._invalidatePropertiesFlag||b._invalidateSizeFlag||b._invalidateDisplayListFlag)b.attachListeners(b.systemManager);else{b.setUsePhasedInstantiation(false);b._listenersAttached=false;for(var a=b._updateCompleteQueue.removeLargest();a;)!a.getInitialized()&&a.getProcessedDescriptors()&&a.setInitialized(true),a.dispatchEvent("updateComplete"),a.setUpdateCompletePendingFlag(false),a=b._updateCompleteQueue.removeLargest()}};b._doPhasedInstantiationCallback=function(){if(!(volcano.UIComponent._callLaterDispatcherCount>
0)){b.systemManager.removeEnterFrameListener(b._doPhasedInstantiationCallback);if(volcano.UIComponent._catchCallLaterExceptions)try{b._doPhasedInstantiation()}catch(a){throw"callLaterError LayoutManager";}else b._doPhasedInstantiation();b._currentObject=null}};b.validateNow=function(){if(!b.getUsePhasedInstantiation())for(var a=0;b._listenersAttached&&a++<100;)b._doPhasedInstantiation()};b.validateClient=function(a,g){var f=b._currentObject,c,d=false,e=b._targetLevel;if(b._targetLevel===Number.MAX_VALUE)b._targetLevel=
a.getNestLevel();for(;!d;){d=true;for(c=b._invalidatePropertiesQueue.removeSmallestChild(a);c;){if(c.getNestLevel())b._currentObject=c,c.validateProperties(),c.getUpdateCompletePendingFlag()||(b._updateCompleteQueue.addObject(c,c.getNestLevel()),c.setUpdateCompletePendingFlag(true));c=b._invalidatePropertiesQueue.removeSmallestChild(a)}if(b._invalidatePropertiesQueue.isEmpty())b._invalidatePropertiesFlag=false,b._invalidateClientPropertiesFlag=false;for(c=b._invalidateSizeQueue.removeLargestChild(a);c;){if(c.getNestLevel())b._currentObject=
c,c.validateSize(),c.getUpdateCompletePendingFlag()||(b._updateCompleteQueue.addObject(c,c.getNestLevel()),c.setUpdateCompletePendingFlag(true));if(b._invalidateClientPropertiesFlag&&(c=b._invalidatePropertiesQueue.removeSmallestChild(a))){b._invalidatePropertiesQueue.addObject(c,c.getNestLevel());d=false;break}c=b._invalidateSizeQueue.removeLargestChild(a)}if(b._invalidateSizeQueue.isEmpty())b._invalidateSizeFlag=false,b._invalidateClientSizeFlag=false;if(!g){for(c=b._invalidateDisplayListQueue.removeSmallestChild(a);c;){if(c.getNestLevel())b._currentObject=
c,c.validateDisplayList(),c.getUpdateCompletePendingFlag()||(b._updateCompleteQueue.addObject(c,c.getNestLevel()),c.setUpdateCompletePendingFlag(true));if(b._invalidateClientPropertiesFlag&&(c=b._invalidatePropertiesQueue.removeSmallestChild(a))){b._invalidatePropertiesQueue.addObject(c,c.getNestLevel());d=false;break}if(b._invalidateClientSizeFlag&&(c=b._invalidateSizeQueue.removeLargestChild(a))){b._invalidateSizeQueue.addObject(c,c.getNestLevel());d=false;break}c=b._invalidateDisplayListQueue.removeSmallestChild(a)}if(b._invalidateDisplayListQueue.isEmpty())b._invalidateDisplayListFlag=
false}}if(e===Number.MAX_VALUE&&(b._targetLevel=Number.MAX_VALUE,!g))for(c=b._updateCompleteQueue.removeLargestChild(a);c;)c.getInitialized()||c.setInitialized(true),c.setUpdateCompletePendingFlag(false),c=b._updateCompleteQueue.removeLargestChild(a);b._currentObject=f};b._waitFrame=function(){b.systemManager.removeEnterFrameListener(b._waitFrame);b.systemManager.addEnterFrameListener(b._doPhasedInstantiationCallback);b._waitAFrame=true};b.attachListeners=function(a){b._waitAFrame?a.addEnterFrameListener(b._doPhasedInstantiationCallback):
a.addEnterFrameListener(b._waitFrame);b._listenersAttached=true};e.volcano.LayoutManager=b})(window);(function(e){var b=function(){this.initialize()},a=b.prototype=new volcano.VSprite,i=function(a,b){this.method=a;this.args=b};b._callLaterDispatcherCount=0;b._catchCallLaterExceptions=false;a._methodQueue=null;a.systemManager=null;a._skin=null;a.states=null;a._deferredSetStyles=null;a._owner=null;a._domElement=null;a._skinCanvas=null;a._updateCompletePendingFlag=false;a._processedDescriptiors=false;a.VSprite_initialize=a.initialize;a.initialize=function(){this._methodQueue=[];this.systemManager=
volcano.LayoutManager.systemManager;this._skin={};this.states=[];this._deferredSetStyles={};this._owner={};this._domElement={};this._skinCanvas={};this.VSprite_initialize();var a=document.documentMode,a=/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())&&(!a||a<=7),b=this._width,c=this._height,d=document.createElement("canvas");d.width=b;d.height=c;try{a&&(d=e.G_vmlCanvasManager.initElement(d))}catch(i){}this._skinCanvas=d;this._domElement.appendChild(this._skinCanvas)};a.getOwner=function(){return this._owner?
this._owner:this.parent};a.setOwner=function(a){this._owner=a;return this};a._nestLevel=0;a.getNestLevel=function(){return this._nestLevel};a.setNestLevel=function(a){if(a!==1){a>1&&this._nestLevel!==a?(this._nestLevel=a,this._updateCallbacks(),a++):a===0?this._nestLevel=a=0:a++;for(var b=this.getNumElements(),c=0;c<b;c++){var d=this.getElementAt(c);d&&d.setNestLevel(a)}}};a.setProcessedDescriptors=function(a){this._processedDescriptors=a};a.getProcessedDescriptors=function(){return this._processedDescriptors};
a._updateCallbacks=function(){this._invalidateDisplayListFlag&&volcano.LayoutManager.invalidateDisplayList(this);this._invalidateSizeFlag&&volcano.LayoutManager.invalidateSize(this);this._invalidatePropertiesFlag&&volcano.LayoutManager.invalidateProperties(this);if(this.systemManager&&this._methodQueue.length>0&&!this._listeningForRender)this.systemManager.addEnterFrameListener(this._callLaterDispatcher),this._listeningForRender=true};a.validateNow=function(){volcano.LayoutManager.validateClient(this)};
a.getStyle=function(a){var b=null;_.isString(a)&&(b=this._deferredSetStyles[a]);return b};a.setStyle=function(a,b){var c=false;_.isString(a)&&(this._deferredSetStyles[a]=b,c=true);c&&(this.invalidateProperties(),this.invalidateDisplayList());return this};a._styleName=null;a.getStyleName=function(){return this._styleName};a.setStyleName=function(a){if(this._styleName!==a)this._styleName=a;return this};a.getSkin=function(){return this._skin};a.setSkin=function(a){var b=false;if(this._skin!==a)this._skin=
a,b=true;b&&(this.invalidateProperties(),this.invalidateDisplayList())};a._measuredWidth=0;a.getMeasuredWidth=function(){return this._measuredWidth};a.setMeasuredWidth=function(a){this._measuredWidth=a;return this};a._measuredHeight=0;a.getMeasuredHeight=function(){return this._measuredHeight};a.setMeasuredHeight=function(a){this._measuredHeight=a;return this};a.setWidth=function(a){this._width=a;this._domElement.width=a+"px";this.invalidateProperties();this.invalidateDisplayList();return this};a.setPercentWidth=
function(a){this._percentWidth=a;this._domElement.width=a+"%";this.invalidateProperties();this.invalidateDisplayList();return this};a.setHeight=function(a){this._height=a;this._domElement.height=a+"px";this.invalidateProperties();this.invalidateDisplayList();return this};a.setPercentHeight=function(a){this._percentHeight=a;this._domElement.height=a+"%";this.invalidateProperties();this.invalidateDisplayList();return this};a._enabled=false;a.getEnabled=function(){return this._enabled};a.setEnabled=
function(a){this._enabled=a;this.invalidateDisplayList()};a.setActualSize=function(a,b){var c=false;if(this._width!=a)this._domElement.width=a+"px",this._skinCanvas.width=a+"px",c=true;if(this._height!=b)this._domElement.width=b+"px",this._skinCanvas.width=b+"px",c=true;c&&(this.invalidateProperties(),this.invalidateDisplayList())};a.move=function(a,b){var c=this._domElement.style;if(this._x!=a)c.left=this._x+"px";if(this._y!=b)c.top=this._y+"px"};a._invalidatePropertiesFlag=false;a._invalidateSizeFlag=
false;a._invalidateDisplayListFlag=false;a.invalidateProperties=function(){if(!this._invalidatePropertiesFlag)this._invalidatePropertiesFlag=true,volcano.LayoutManager.invalidateProperties(this)};a.invalidateSize=function(){if(!this._invalidateSizeFlag)this._invalidateSizeFlag=true,volcano.LayoutManager.invalidateSize(this)};a.invalidateDisplayList=function(){if(!this._invalidateDisplayListFlag)this._invalidateDisplayListFlag=true,volcano.LayoutManager.invalidateDisplayList(this)};a.validateProperties=
function(){if(this._invalidatePropertiesFlag)this.commitProperties(),this._invalidatePropertiesFlag=false};a.validateSize=function(a){if(a===true)for(a=0;a<this.getNumElements;a++)this.getElementAt(a).validateSize(true);this._invalidateSizeFlag&&this.measure()};a.validateDisplayList=function(){if(this._invalidateDisplayListFlag)this.updateDisplayList(this.getMeasuredWidth(),this.getMeasuredHeight()),this._invalidateDisplayListFlag=false};a._listeningForRender=false;a._callLaterDispatcher=function(){b._callLaterDispatcherCount++;
if(this._listeningForRender)this.systemManager.removeEnterFrameListener(this._callLaterDispatcher),this._listeningForRender=false;var a=this._methodQueue;this._methodQueue=[];var f=a.length;if(f>0)for(var c=0;c<f;c++){var d=a[c];d.method.apply(null,d.args)}b._callLaterDispatcherCount--};a.callLater=function(a,b){this._methodQueue.push(new i(a,b));if(!this._listeningForRender)this.systemManager.addEnterFrameListener(this._callLaterDispatcher),this._listeningForRender=true};a.VSprite__elementAdded=
a._elementAdded;a._elementAdded=function(a,b,c){this.VSprite__elementAdded(a,b,c);a.parentChanged(this);a.setNestLevel(this.getNestLevel()+1);a.getInitialized()||a.initComponent()};a.VSprite__elementRemoved=a._elementRemoved;a._elementRemoved=function(a,b,c){a.parentChanged(null);this.VSprite__elementRemoved(a,b,c)};a.getUpdateCompletePendingFlag=function(){return this._updateCompletePendingFlag};a.setUpdateCompletePendingFlag=function(a){this._updateCompletePendingFlag=a};a.parentChanged=
function(a){a?this.parent=a.name==="systemManager"?a:a._skinCanvas&&a._skinCanvas.localName==="canvas"?a:a.parent:(this.parent=null,this.setNestLevel(0))};a._initialized=false;a.getInitialized=function(){return this._initialized};a.setInitialized=function(a){(this._initialized=a)&&this.dispatchEvent("creationComplete")};a.initComponent=function(){this.getInitialized()||(this.dispatchEvent("preinitialize"),this.createChildren(),this.childrenCreated(),this.initializationComplete())};a.getLayoutBoundsX=
function(){};a.getLayoutBoundsY=function(){};a.createChildren=function(){};a.childrenCreated=function(){this.invalidateProperties();this.invalidateSize();this.invalidateDisplayList()};a.commitProperties=function(){console.log(this.getName()+"   -------------   commitProperties")};a.measure=function(){console.log(this.getName()+"   -------------   measure")};a.updateDisplayList=function(){console.log(this.getName()+"   -------------   updateDisplayList")};a.initializationComplete=function(){this.dispatchEvent("initialize");
this.setProcessedDescriptors(true)};e.volcano.UIComponent=b})(window);(function(e){var b=function(){this.initialize()},a=b.prototype=new volcano.UIComponent;a.UIComponent_initialize=a.initialize;a.initialize=function(){this.UIComponent_initialize()};a.createChildren=function(){this._validateSkinChange()};a._skinStateIsDirty=false;a.invalidateSkinState=function(){if(!this._skinStateIsDirty)this._skinStateIsDirty=true,this.invalidateProperties()};a.getSkinParts=function(){return null};a.attachSkin=function(){if(!this._skin){var a=this.getStyle("skinClass");a&&this.setSkin(new this[a]);
this._skin&&(this._skin.setOwner(this),this._skin.setStyleName(this),this.addElement(this._skin));this.findSkinParts();this.invalidateSkinState()}};a.clearSkinParts=function(){var a=this.getSkinParts();if(a)for(var b in a)this[b]!==null&&this.partRemoved(b,this[b])};a.detachSkin=function(){this._skin.setStyleName(null);this.clearSkinParts();this.removeElement(this._skin);this.setSkin(null)};a.findSkinParts=function(){var a=this.getSkinParts();if(a)for(var b in a){if(a[b]==true&&!(b in this._skin))throw"Required Skin Part Not Found";
b in this._skin&&(this[b]=this._skin[b],this[b]!==null&&this.partAdded(b,this[b]))}};a.getCurrentSkinState=function(){return null};a.partAdded=function(){};a.partRemoved=function(){};a._validateSkinChange=function(){this._skin&&this.detachSkin();this.attachSkin()};e.volcano.SkinnableComponent=b})(window);(function(){var e=function(){this.initialize()},b=e.prototype=new volcano.UIComponent;b._applicationDPI=160;b.measuredDefaultHeight=0;b.measuredDefaultWidth=0;b.UIComponent_initialize=b.initialize;b.initialize=function(){this.UIComponent_initialize()};b._currentState="";b.getCurrentState=function(){return this._currentState};b.setCurrentState=function(a){if(a!==this._currentState)this._currentState=a,this.commitCurrentState()};b.beginHighlightBitmapCapture=function(){};b.endHighlightBitmapCapture=
function(){};b.hasState=function(){return true};b.applyColorTransform=function(){};b.getElementPreferredHeight=function(a){return a instanceof volcano.LayoutBase?a.getPreffrredBoundsWidth():a instanceof volcano.UIComponent?a.getMeasuredWidth():a.getWidth()};b.getElementPreferredWidth=function(a){return a instanceof volcano.LayoutBase?a.getPreffrredBoundsHeight():a instanceof volcano.UIComponent?a.getMeasuredHeight():a.getHeight()};b.setElementPosition=function(a,b,e){a instanceof volcano.LayoutBase?
a.setLayoutBoundPosition(b,e,false):a instanceof volcano.UIComponent?a.move(b,e):(a.setX(b),a.setY(e))};b.setElementSize=function(a,b,e){a instanceof volcano.LayoutBase?a.setLayoutBoundSize(b,e,false):a instanceof volcano.UIComponent?a.setActualSize(b,e):(a.setWidth(b),a.setHeight(e))};b.UIComponent_getMeasuredWidth=b.getMeasuredWidth;b.UIComponent_getMeasuredHeight=b.getMeasuredHeight;b.getMeasuredWidth=function(){return Math.max(this.UIComponent_getMeasuredWidth(),this.measuredDefaultWidth)};b.getMeasuredHeight=
function(){return Math.max(this.UIComponent_getMeasuredHeight(),this.measuredDefaultHeight)};b.useSymbolColor=false;b.UIComponent_updateDisplayList=b.updateDisplayList;b.updateDisplayList=function(a,b){this.UIComponent_updateDisplayList(a,b);this.layoutContents(a,b);this.useSymbolColor&&this.applySymbolColor();useMinimumHitArea&&this.drawMinimumHitArea(a,b);this.drawBackground(a,b)};b.commitCurrentState=function(){};b.layoutContents=function(){};b.drawBackground=function(){};this.window.volcano.SkinBase=
e})(window);(function(e){var b=function(){throw"ColorUtil cannot be initialized.";};b.getRandomColor=function(){for(var a="0123456789ABCDEF".split(""),b="#",e=0;e<6;e++)b+=a[Math.round(Math.random()*15)];return b};e.volcano.ColorUtil=b})(window);(function(e){var b=function(){throw"ObjectUtil cannot be initialized.";};b._inProgress=[];b.toString=function(a,e,g,f,c){f==void 0&&(f=100);c==void 0&&(c=0);for(var d=0;d<b._inProgress.length;d++)if(b._inProgress[d]==a)return"***";b._inProgress.push(a);c++;d=typeof a;if(a instanceof Date)d=a.toString();else if(d=="object"){var j=[];if(a instanceof Array)for(var d="[",h=0;h<a.length;h++)j.push(h);else{d="{";for(h in a)j.push(h);j.sort()}for(var h="",m=0;m<j.length;m++){var k=a[j[m]],l=true;typeof k==
"function"&&(l=e==true);typeof k=="undefined"&&(l=g==true);l&&(d+=h,a instanceof Array||(d+=j[m]+": "),d+=b.toString(k,e,g,f,c),h=", `")}d+=a instanceof Array?"]":"}"}else d=d=="function"?"function":d=="string"?'"'+a+'"':String(a);d=="undefined"&&(d="-");b._inProgress.pop();return b.replaceAll(d,"`",d.length<f?"":"\n"+b.doIndent(c))};b.replaceAll=function(a,b,e){for(var a=a.split(b),f=b="",c=0;c<a.length;c++)b+=f+a[c],f=e;return b};b.doIndent=function(a){for(var b="",e=0;e<a;e++)b+="     ";return b};
e.volcano.ObjectUtil=b})(window);
