/*
* VolcanoJS
* Visit http://volcanojs.com/ for documentation, updates and examples.
*
* Copyright (c) 2012 gstech.co.kr, inc.
* 
* Distributed under the terms of the MIT license.
* http://www.opensource.org/licenses/mit-license.html
*
* This notice shall be included in all copies or substantial portions of the Software.
*/
this.createjs=this.createjs||{};
(function(){var c=function(){throw"Ticker cannot be instantiated.";};c.useRAF=null;c._listeners=null;c._pauseable=null;c._paused=false;c._inited=false;c._startTime=0;c._pausedTime=0;c._ticks=0;c._pausedTicks=0;c._interval=50;c._lastTime=0;c._times=null;c._tickTimes=null;c._rafActive=false;c._timeoutID=null;c.addListener=function(a,e){a!=null&&(c._inited||c.init(),c.removeListener(a),c._pauseable[c._listeners.length]=e==null?true:e,c._listeners.push(a))};c.init=function(){c._inited=true;c._times=[];
c._tickTimes=[];c._pauseable=[];c._listeners=[];c._times.push(c._lastTime=c._startTime=c._getTime());c.setInterval(c._interval)};c.removeListener=function(a){var e=c._listeners;e&&(a=_.indexOf(e,a),a!=-1&&(e.splice(a,1),c._pauseable.splice(a,1)))};c.removeAllListeners=function(){c._listeners=[];c._pauseable=[]};c.setInterval=function(a){c._interval=a;c._inited&&c._setupTick()};c.getInterval=function(){return c._interval};c.setFPS=function(a){c.setInterval(1E3/a)};c.getFPS=function(){return 1E3/c._interval};
c.getMeasuredFPS=function(a){if(c._times.length<2)return-1;a==null&&(a=c.getFPS()|0);a=Math.min(c._times.length-1,a);return 1E3/((c._times[0]-c._times[a])/a)};c.setPaused=function(a){c._paused=a};c.getPaused=function(){return c._paused};c.getTime=function(a){return c._getTime()-c._startTime-(a?c._pausedTime:0)};c.getTicks=function(a){return c._ticks-(a?c._pausedTicks:0)};c._handleAF=function(){c._rafActive=false;c._setupTick();c._getTime()-c._lastTime>=(c._interval-1)*0.97&&c._tick()};c._handleTimeout=
function(){c.timeoutID=null;c._setupTick();c._tick()};c._setupTick=function(){if(!(c._rafActive||c.timeoutID!=null)){if(c.useRAF){var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(a){a(c._handleAF);c._rafActive=true;return}}c.timeoutID=setTimeout(c._handleTimeout,c._interval)}};c._tick=function(){var a=c._getTime();c._ticks++;var e=a-c._lastTime,d=c._paused;d&&(c._pausedTicks++,
c._pausedTime+=e);c._lastTime=a;for(var b=c._pauseable,f=c._listeners.slice(),k=f?f.length:0,g=0;g<k;g++){var h=f[g];h==null||d&&b[g]||(h.tick?h.tick(e,d):h instanceof Function&&h(e,d))}for(c._tickTimes.unshift(c._getTime()-a);c._tickTimes.length>100;)c._tickTimes.pop();for(c._times.unshift(a);c._times.length>100;)c._times.pop()};var b=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);c._getTime=function(){return b&&b.call(performance)||
(new Date).getTime()};createjs.Ticker=c})();var Stats=function(){function c(d,a,e){var b,f,c;for(f=0;f<30;f++)for(b=0;b<73;b++)c=(b+f*74)*4,d[c]=d[c+4],d[c+1]=d[c+5],d[c+2]=d[c+6];for(f=0;f<30;f++)c=(73+f*74)*4,f<a?(d[c]=m[e].bg.r,d[c+1]=m[e].bg.g,d[c+2]=m[e].bg.b):(d[c]=m[e].fg.r,d[c+1]=m[e].fg.g,d[c+2]=m[e].fg.b)}var b=0,a=2,e,d=0,l=(new Date).getTime(),f=l,k=l,g=0,h=1E3,n=0,o,p,j,w,A,x=0,C=1E3,D=0,s,t,r,v,y=0,B=1E3,E=0,q,u,z,F,m={fps:{bg:{r:16,g:16,b:48},fg:{r:0,g:255,b:255}},ms:{bg:{r:16,g:48,b:16},fg:{r:0,g:255,b:0}},mem:{bg:{r:48,g:16,
b:26},fg:{r:255,g:0,b:128}}};e=document.createElement("div");e.style.cursor="pointer";e.style.width="80px";e.style.opacity="0.9";e.style.zIndex="10001";e.addEventListener("click",function(){b++;b==a&&(b=0);o.style.display="none";s.style.display="none";q.style.display="none";switch(b){case 0:o.style.display="block";break;case 1:s.style.display="block";break;case 2:q.style.display="block"}},false);o=document.createElement("div");o.style.backgroundColor="rgb("+Math.floor(m.fps.bg.r/2)+","+Math.floor(m.fps.bg.g/
2)+","+Math.floor(m.fps.bg.b/2)+")";o.style.padding="2px 0px 3px 0px";e.appendChild(o);p=document.createElement("div");p.style.fontFamily="Helvetica, Arial, sans-serif";p.style.textAlign="left";p.style.fontSize="9px";p.style.color="rgb("+m.fps.fg.r+","+m.fps.fg.g+","+m.fps.fg.b+")";p.style.margin="0px 0px 1px 3px";p.innerHTML='<span style="font-weight:bold">FPS</span>';o.appendChild(p);j=document.createElement("canvas");j.width=74;j.height=30;j.style.display="block";j.style.marginLeft="3px";o.appendChild(j);
w=j.getContext("2d");w.fillStyle="rgb("+m.fps.bg.r+","+m.fps.bg.g+","+m.fps.bg.b+")";w.fillRect(0,0,j.width,j.height);A=w.getImageData(0,0,j.width,j.height);s=document.createElement("div");s.style.backgroundColor="rgb("+Math.floor(m.ms.bg.r/2)+","+Math.floor(m.ms.bg.g/2)+","+Math.floor(m.ms.bg.b/2)+")";s.style.padding="2px 0px 3px 0px";s.style.display="none";e.appendChild(s);t=document.createElement("div");t.style.fontFamily="Helvetica, Arial, sans-serif";t.style.textAlign="left";t.style.fontSize=
"9px";t.style.color="rgb("+m.ms.fg.r+","+m.ms.fg.g+","+m.ms.fg.b+")";t.style.margin="0px 0px 1px 3px";t.innerHTML='<span style="font-weight:bold">MS</span>';s.appendChild(t);j=document.createElement("canvas");j.width=74;j.height=30;j.style.display="block";j.style.marginLeft="3px";s.appendChild(j);r=j.getContext("2d");r.fillStyle="rgb("+m.ms.bg.r+","+m.ms.bg.g+","+m.ms.bg.b+")";r.fillRect(0,0,j.width,j.height);v=r.getImageData(0,0,j.width,j.height);try{webkitPerformance&&webkitPerformance.memory.totalJSHeapSize&&
(a=3)}catch(G){}q=document.createElement("div");q.style.backgroundColor="rgb("+Math.floor(m.mem.bg.r/2)+","+Math.floor(m.mem.bg.g/2)+","+Math.floor(m.mem.bg.b/2)+")";q.style.padding="2px 0px 3px 0px";q.style.display="none";e.appendChild(q);u=document.createElement("div");u.style.fontFamily="Helvetica, Arial, sans-serif";u.style.textAlign="left";u.style.fontSize="9px";u.style.color="rgb("+m.mem.fg.r+","+m.mem.fg.g+","+m.mem.fg.b+")";u.style.margin="0px 0px 1px 3px";u.innerHTML='<span style="font-weight:bold">MEM</span>';
q.appendChild(u);j=document.createElement("canvas");j.width=74;j.height=30;j.style.display="block";j.style.marginLeft="3px";q.appendChild(j);z=j.getContext("2d");z.fillStyle="#301010";z.fillRect(0,0,j.width,j.height);F=z.getImageData(0,0,j.width,j.height);return{domElement:e,update:function(){d++;l=(new Date).getTime();x=l-f;C=Math.min(C,x);D=Math.max(D,x);c(v.data,Math.min(30,30-x/200*30),"ms");t.innerHTML='<span style="font-weight:bold">'+x+" MS</span> ("+C+"-"+D+")";r.putImageData(v,0,0);f=l;if(l>
k+1E3){g=Math.round(d*1E3/(l-k));h=Math.min(h,g);n=Math.max(n,g);c(A.data,Math.min(30,30-g/100*30),"fps");p.innerHTML='<span style="font-weight:bold">'+g+" FPS</span> ("+h+"-"+n+")";w.putImageData(A,0,0);if(a==3)y=webkitPerformance.memory.usedJSHeapSize*9.54E-7,B=Math.min(B,y),E=Math.max(E,y),c(F.data,Math.min(30,30-y/2),"mem"),u.innerHTML='<span style="font-weight:bold">'+Math.round(y)+" MEM</span> ("+Math.round(B)+"-"+Math.round(E)+")",z.putImageData(F,0,0);k=l;d=0}}}};(function(c){var b=c.volcano,a,e=c._;!e&&typeof require!=="undefined"&&(e=require("underscore"),require("backbone"));if(typeof Backbone!=="undefined"&&Backbone)c.volcano=a=Backbone,a.BackboneVersion=a.VERSION;else throw Error("volcanojs needs backbonejs library. \n you must include backbonejs before volcanojs");a.VERSION="0.1";a.noConflict=function(){c.volcano=b;return this};e=navigator.userAgent.toLocaleLowerCase();a.isMobile={android:e.match(/android/i)?true:false,blackberry:e.match(/blackberry/i)?
true:false,iphone:e.match(/iphone|ipod/i)?true:false,ipad:e.match(/ipad/i)?true:false,windows:e.match(/iemobile/i)?true:false};a.isMobile.any=a.isMobile.android||a.isMobile.blackberry||a.isMobile.iphone||a.isMobile.ipad||a.isMobile.windows;a.hasTouch="ontouchstart"in c?true:false;a.has3d="WebKitCSSMatrix"in c&&"m11"in new WebKitCSSMatrix;a.e={CLICK:a.hasTouch?"touchend":"click",MOUSE_DOWN:a.hasTouch?"touchstart":"mousedown",MOUSE_MOVE:a.hasTouch?"touchmove":"mousemove",MOUSE_UP:a.hasTouch?"touchend":
"mouseup",CANCEL:a.hasTouch?"touchcancel":"mouseup"};a.isHtml5={query:document.querySelectorAll?true:false,canvas:c.HTMLCanvasElement?true:false,audio:c.HTMLAudioElement&&c.Audio?true:false,video:c.HTMLVideoElement&&c.Video?true:false,storage:c.localStorage&&c.localStorage.setItem?true:false,orientation:"onorientationchange"in c?true:false,hashchange:"onhashchange"in c?true:false};a.innerWidth=c.innerWidth||document.documentElement.clientWidth;a.innerHeight=c.innerHeight||document.documentElement.clientHeight;
a._browserPrefix="webkit";a._transformProperty="webkitTransform";a.isCss3DocumentDIV=document.createElement("div");a.isCss3={isTransform:function(){var d=["","webkit","Moz","O","ms"],e=d.length,b;for(b=0;b<e;b++)if(d[b]+"Transform"in a.isCss3DocumentDIV.style)return a._transformProperty=d[b]+"Transform",a._browserPrefix=d[b],true;return false}(),isTransition:void 0}})(window);(function(c){var b=function(){this.initialize()},a=volcano.Model.prototype,e=volcano.Collection.prototype,d=volcano.View.prototype,l=volcano.Router.prototype,f=volcano.History.prototype,k=volcano.Events;volcano.Events.addEventListener=volcano.Events.on;volcano.Events.removeEventListener=volcano.Events.off;volcano.Events.dispatchEvent=volcano.Events.trigger;a.addEventListener=a.on;a.removeEventListener=a.off;a.dispatchEvent=a.trigger;e.addEventListener=e.on;e.removeEventListener=e.off;e.dispatchEvent=
e.trigger;d.addEventListener=d.on;d.removeEventListener=d.off;d.dispatchEvent=d.trigger;l.addEventListener=l.on;l.removeEventListener=l.off;l.dispatchEvent=l.trigger;f.addEventListener=f.on;f.removeEventListener=f.off;f.dispatchEvent=f.trigger;a=b.prototype;a.initialize=function(){};a.addEventListener=a.on=a.bind=k.on;a.removeEventListener=a.off=a.unbind=k.off;a.dispatchEvent=a.trigger=k.trigger;c.volcano.EventDispatcher=b})(window);(function(c){var b=function(d,a){this.initialize(d,a)},a={onload:1,onunload:1,onblur:1,onchange:1,onfocus:1,onreset:1,onselect:1,onsubmit:1,onabort:1,onkeydown:1,onkeypress:1,onkeyup:1,onclick:1,ondblclick:1,onmousedown:1,onmousemove:1,onmouseout:1,onmouseover:1,onmouseup:1};b._eventSplitter=/\s+/;b.randomColorMode=false;var e=b.prototype;e._domElement=null;e._elementsContent=null;e.eventCallback=null;e.parent=null;e._alpha=1;e._string=[];e._positions=[];e.isAutoUpdate=true;e._ox=0;e._oy=0;e._oz=
0;e._option={};e.initialize=function(d,a){var e;this._domElement={};a!==void 0?this._option=a:this._option.defaultValue="on";var c=this;e=function(d,a,e){var f=document.createElement("div");f.style.width=d+"px";f.style.height=a+"px";f.style.margin="0px";f.style.padding="0px";if(e!=void 0)f.style.backgroundColor=e;if(b.randomColorMode)f.style.backgroundColor=volcano.ColorUtil.getRandomColor();if(c._option.defaultValue==="on")f.style.position="absolute";return f};if(arguments.length===0||_.isUndefined(d))d=
e(this._width,this._height);else if(typeof d==="string"){var g=d,d=e(this._width,this._height);switch(g[0]){case ".":d.className=g.substr(1);break;case "#":d.id=g.substr(1);break;default:d.id=g}}else if(d.val&&d.attr){if(d.length>1)throw Error("You are using multi selected jQuery/Zepto Object \n You MUST select only one DOM Object \n If you want to use multi selected jQuery/Zepto Object, you should use alternative class that is VobjectArray");d=d.get(0)}else if(this._option.defaultValue!=="off")d.style.position=
d.style.position=="static"?"relative":"absolute";this._option.defaultValue==="on"&&volcano.has3d&&(d.style[volcano._browserPrefix+"TransformStyle"]="preserve-3d",d.style[volcano._transformProperty]="translateZ(0px)");this._string=["translate3d(",0,"px,",0,"px,",0,"px) ","rotateX(",0,"deg) ","rotateY(",0,"deg) ","rotateZ(",0,"deg) ","scale3d(",1,", ",1,", ",1,") "];this._positions=[1,3,5,8,11,14,17,19,21];this._oz=this._oy=this._ox=0;this._domElement=d;this._domElement.volcanoObj=this};e.addEventListener=
function(d,e){var f,c,g,h,n,o,p,j,w;if(!d&&!e)return this;d=d.split(b._eventSplitter);f=this._callbacks||(this._callbacks={});for(o=function(d){if(d){p=d.target||d.srcElement;if(!j||w!=p)j=w=p;if(!j.volcanoObj){j=j.parentNode;o.call(this,d);return}if(!d.preventDefault)d.preventDefault=function(){d.returnValue=false};if(!d.stopPropagation)d.stopPropagation=function(){d.cancelBubble=true};d.vCurrentTarget=this.volcanoObj;d.vTarget=j.volcanoObj}e(d)};c=d.shift();)g=(n=f[c])?n.tail:{},g.next=h={},g.callback=
o,f[c]={tail:h,next:n?n.next:g},this._domElement.addEventListener?this._domElement.addEventListener(c,o,false):this._domElement.attachEvent&&a["on"+c]?this._domElement.attachEvent("on"+c,o):this._domElement["on"+c]=o;return this};e.removeEventListener=function(d,e){var f,c,g,h,n;if(c=this._callbacks){if(!d&&!e)return this;for(d=d.split(b._eventSplitter);f=d.shift();)if(g=c[f],delete c[f],g&&e)for(h=g.tail;(g=g.next)!==h;)n=g.callback,this._domElement.removeEventListener?this._domElement.removeEventListener(f,
n,false):this._domElement.detachEvent&&a["on"+f]?this._domElement.detachEvent("on"+f,n):this._domElement["on"+f]=null;return this}};e.dispatchEvent=function(d,e){var f,c;if(_.isString(d))for(d=d.split(b._eventSplitter);f=d.shift();){e?e=true:e=false;if(document.createEvent)c=document.createEvent("HTMLEvents"),c.initEvent(f,e,true);else if(document.createEventObject)c=document.createEventObject(),c.eventType=f;c.eventName=f;if(this._domElement.dispatchEvent)this._domElement.dispatchEvent(c);else if(this._domElement.fireEvent&&
a["on"+f])this._domElement.fireEvent("on"+c.eventType,c);else if(this._domElement[f])this._domElement[f]();else if(this._domElement["on"+f])this._domElement["on"+f]()}else if(_.isObject(d))if(this._domElement.dispatchEvent)this._domElement.dispatchEvent(d);else throw Error("you shouldn't dispatch custom event object. only supported custom event type is string");return this};e._width=0;e.width=function(d){if(arguments.length)return this._width=d,this._domElement.style.width=d+"px",this;else{this._width=
this._domElement.style.width.toString().split("px")[0];if(this._width==="")this._width=getComputedStyle(this._domElement).width.toString().split("px")[0];return this._width}};e._height=0;e.height=function(d){if(arguments.length)return this._height=d,this._domElement.style.height=d+"px",this;else{this._height=this._domElement.style.height.toString().split("px")[0];if(this._height==="")this._height=getComputedStyle(this._domElement).height.toString().split("px")[0];return this._height}};e._percentWidth=
0;e.percentWidth=function(d){if(arguments.length)return this._percentWidth=d,this._domElement.style.width=d+"%",this;else{if(this._percentWidth==="")this._percentWidth=getComputedStyle(this._domElement).percentWidth;return this._percentWidth}};e._percentHeight=0;e.percentHeight=function(d){if(arguments.length)return this._percentHeight=d,this._domElement.style.height=d+"%",this;else{if(this._percentHeight==="")this._percentHeight=getComputedStyle(this._domElement).percentHeight;return this._percentHeight}};
e.x=function(d){return arguments.length?(this._string[this._positions[0]]=d-this._ox,this.isAutoUpdate&&this.updateTransform(),this):this._string[this._positions[0]]+this._ox};e.y=function(d){return arguments.length?(this._string[this._positions[1]]=d-this._oy,this.isAutoUpdate&&this.updateTransform(),this):this._string[this._positions[1]]+this._oy};e._pz=0;e.z=function(d){return arguments.length?(this._string[this._positions[2]]=d-this._oz,this.isAutoUpdate&&this.updateTransform(),this):this._string[this._positions[2]]+
this._oz};e.move=function(d,a,e){this._string[this._positions[0]]=d-this._ox;this._string[this._positions[1]]=a-this._oy;arguments.length>=3&&(this._string[this._positions[2]]=e-this._oz);this.isAutoUpdate&&this.updateTransform();return this};e.rotationX=function(d){return arguments.length?(this._string[this._positions[3]]=d,this.isAutoUpdate&&this.updateTransform(),this):this._string[this._positions[3]]};e.rotationY=function(d){return arguments.length?(this._string[this._positions[4]]=d,this.isAutoUpdate&&
this.updateTransform(),this):this._string[this._positions[4]]};e.rotationZ=function(d){return arguments.length?(this._string[this._positions[5]]=d,this.isAutoUpdate&&this.updateTransform(),this):this._string[this._positions[5]]};e.rotation=function(d,a,e){this._string[this._positions[3]]=d;this._string[this._positions[4]]=a;this._string[this._positions[5]]=e;this.isAutoUpdate&&this.updateTransform();return this};e.scaleX=function(d){return arguments.length?(this._string[this._positions[6]]=d,this.isAutoUpdate&&
this.updateTransform(),this):this._string[this._positions[6]]};e.scaleY=function(d){return arguments.length?(this._string[this._positions[7]]=d,this.isAutoUpdate&&this.updateTransform(),this):this._string[this._positions[7]]};e.scaleZ=function(d){return arguments.length?(this._string[this._positions[8]]=d,this.isAutoUpdate&&this.updateTransform(),this):this._string[this._positions[8]]};e.scale=function(d,a,e){switch(arguments.length){case 0:return this.isAutoUpdate&&this.updateTransform(),this._string[this._positions[6]];
case 1:this._string[this._positions[6]]=d;this._string[this._positions[7]]=d;this._string[this._positions[8]]=d;this.isAutoUpdate&&this.updateTransform();break;case 2:this._string[this._positions[6]]=d;this._string[this._positions[7]]=a;this._string[this._positions[8]]=1;this.isAutoUpdate&&this.updateTransform();break;case 3:this._string[this._positions[6]]=d,this._string[this._positions[7]]=a,this._string[this._positions[8]]=e,this.isAutoUpdate&&this.updateTransform()}return this};e.origin=function(d,
a,e){if(typeof d==="string"){var b=c.getComputedStyle(this,null);console.log(b);console.log("w:"+b.getPropertyValue("width")+" || h: "+b.height)}else arguments.length<3&&(e=0),this._string[this._positions[0]]+=this._ox-d,this._string[this._positions[1]]+=this._oy-a,this._string[this._positions[2]]+=this._oz-e,this._ox=d,this._oy=a,this._oz=e,this.isAutoUpdate&&this.updateTransform();return this};e.transformOrigin=function(d,a){return arguments.length?(this._domElement.style[volcano._browserPrefix+
"TransformOrigin"]=(Number(d)?d+"px":d)+" "+(Number(a)?a+"px":a),this.isAutoUpdate&&this.updateTransform(),this):this._domElement.style[volcano._browserPrefix+"TransformOrigin"]};e.transformString=function(d){for(var d=d.toLowerCase().split(" "),a=d.length,e=0,b=[],c=[0,0,0,0,0,0,0,0,0],h=0;e<a;e++)switch(d[e]){case "p":case "position":case "translate":h=b.push("translate3d(",this._string[this._positions[0]],"px,",this._string[this._positions[1]],"px,",this._string[this._positions[2]],"px) ");c[0]=
h-6;c[1]=h-4;c[2]=h-2;break;case "rx":case "rotatex":case "rotationx":h=b.push("rotateX(",this._string[this._positions[3]],"deg) ");c[3]=h-2;break;case "ry":case "rotatey":case "rotationy":h=b.push("rotateY(",this._string[this._positions[4]],"deg) ");c[4]=h-2;break;case "rz":case "rotatez":case "rotationz":h=b.push("rotateZ(",this._string[this._positions[5]],"deg) ");c[5]=h-2;break;case "s":case "scale":h=b.push("scale3d(",this._string[this._positions[6]],",",this._string[this._positions[7]],",",
this._string[this._positions[8]],") "),c[6]=h-6,c[7]=h-4,c[8]=h-2}this._string=b;this._positions=c;this.isAutoUpdate&&this.updateTransform();return this};e.perspective=function(d){return arguments.length?(this.isAutoUpdate&&this.updateTransform(),this._domElement.style[volcano._browserPrefix+"Perspective"]=typeof d==="string"?d:d+"px",this):this._domElement.style[volcano._browserPrefix+"Perspective"]};e.getStyle=function(d){return this._domElement.style[d]};e.setStyle=function(d,a,e){this._domElement.style[d]=
a;arguments.length>2&&(this._domElement.style[volcano._browserPrefix+d]=a);return this};e._styleName="";e.styleName=function(d){return arguments.length?(this._styleName=d,this._domElement.className=d,this):this._styleName!==""?this._styleName:this._domElement.className};e.html=function(d){return arguments.length?(this.innerHTML=d,this):this.innerHTML};e.updateTransform=function(){var d="",a=0;_.all(this._string,function(e){volcano.has3d==true?d+=e:e==="translate3d("?d+="translate(":volcano._browserPrefix==
"ms"?a==4?d+="px)":a<4&&(d+=e):volcano._browserPrefix=="O"?a==4?d+="px)":a<4&&(d+=e):a==5||a==6||a==13||a==14||a==15||a==20||a==21||(d+=a==4?"px)":a==16?"scale(":e);a++;return true});this._domElement.style[volcano._transformProperty]=d;return this};e._name="";e.name=function(d){return arguments.length?(this._name=d,this):this._name};e._id="";e.id=function(d){return arguments.length?(this._id=d,this._domElement.id=d,this):this._id};e.alpha=function(d){return arguments.length?(this._alpha=d,this._domElement.style.opacity=
d,this):this._alpha};e._visible=false;e.visible=function(d){if(arguments.length){var a;this._visible=d;d===true?a="visible":a="hidden";this._domElement.style.visibility=a;return this}else return this._visible};e.addClass=function(){for(var d=arguments,a=d.length,e=0;e<a;e++)if(!this.hasClass(d[e]))this._domElement.className=this._domElement.className?this._domElement.className+" "+d[e]:d[e];return this};e.removeClass=function(){for(var d=arguments,a=d.length,e=0;e<a;e++)if(this.hasClass(d[e]))this._domElement.className=
this._domElement.className.replace(RegExp("(^|\\s+)"+d[e]+"(\\s+|$)")," ");return this};e.hasClass=function(d){return(" "+this._domElement.className+" ").replace(/[\n\t]/g," ").indexOf(" "+d+" ")>-1};c.volcano.VObject=b})(window);(function(c){var b=function(a,d){this.initialize(a,d)},a=b.prototype=new volcano.VObject;a._domElement=null;a._elementsContent=null;a.eventCallback=null;a.parent=null;a._alpha=1;a._string=[];a._positions=[];a.isAutoUpdate=true;a._ox=0;a._oy=0;a._oz=0;a.VObject_initialize=a.initialize;a.initialize=function(a,d){this._domElement={};this._elementsContent=[];this.parent={};this.VObject_initialize(a,d)};a._checkRangeError=function(a,d){var b=this._elementsContent.length-1;d&&b++;if(a<0||a>b)throw"Elements Range Error";
};a._elementAdded=function(a,d,b){a.parent=this;var c=this._domElement,a=a._domElement,k=0;c.children.length>0&&(k=c.children[0].localName==="canvas"?1:0);c.children.length-k===d?c.appendChild(a):(console.log(this.getElementAt(d)._domElement),c.insertBefore(a,this.getElementAt(d)._domElement));b&&this.dispatchEvent("elementAdded")};a._elementRemoved=function(a,d,b){a.parent=null;this._domElement.removeChild(a._domElement);b&&this.dispatchEvent("elementRemoved")};a.getNumElements=function(){return this._elementsContent.length};
a.getElementAt=function(a){this._checkRangeError(a,false);return this._elementsContent[a]};a.addElement=function(a){var d=this.getNumElements();a.parent===this&&(d=this.getNumElements()-1);return this.addElementAt(a,d)};a.addElementAt=function(a,d){if(a===this)throw"Cannot add yourself as your Child";this._checkRangeError(d,true);var c=a.parent;if(c===this)return this.setElementIndex(a,d),a;else c instanceof b&&c.removeElement(a);this._elementsContent.splice(d,0,a);this._elementAdded(a,d);return a};
a.removeElement=function(a){return this.removeElementAt(this.getElementIndex(a))};a.removeElementAt=function(a){this._checkRangeError(a);this._elementRemoved(this._elementsContent[a],a);this._elementsContent.splice(a,1)};a.removeAllElements=function(){for(var a=this.getNumElements()-1;a>=0;a--)this.removeElementAt(a)};a.getElementIndex=function(a){return _.indexOf(this._elementsContent,a)};a.setElementIndex=function(a,d){this._checkRangeError(d);this.getElementIndex(a)!==d&&(this.removeElement(a),
this.addElementAt(a,d))};c.volcano.VSprite=b})(window);(function(c){var b=function(a){this.initialize(a)},a=b.prototype=new volcano.VSprite;a.VSprite_initialize=a.initialize;a.instance=null;a._nestLevel=0;a._body=null;a._onEnterFrameItems=null;a.initialize=function(a){this.instance={};this._body={};this._onEnterFrameItems=[];this.VSprite_initialize("#systemManager");createjs.Ticker.setFPS(this._fps);createjs.Ticker.addListener(this);this._body=_.isObject(a)?a:document.body;var d=this._body.style;this.setSize(d.width,d.height);this._body.appendChild(this._domElement);
this._domElement.style.overflow="hidden";this._domElement.style[volcano._browserPrefix+"TransformOrigin"]="0 0";volcano.has3d&&(this._domElement.style[volcano._browserPrefix+"Perspective"]="800px",this._domElement.style[volcano._browserPrefix+"PerspectiveOrigin"]="0 0",this._domElement.style[volcano._browserPrefix+"TransformStyle"]="flat");this._nestLevel=1;volcano.LayoutManager.systemManager=this;var b=this.instance=this,a=function(){b.setSize(d.width,d.height);b.dispatchEvent("resize")};c.addEventListener?
c.addEventListener("resize",a):c.onresize=a};a.setSize=function(a,d){this.width(_.isNumber(a)?a:c.innerWidth||document.documentElement.clientWidth).height(_.isNumber(d)?d:c.innerHeight||document.documentElement.clientHeight);return this};a.nestLevel=function(a){if(!arguments.length)return this._nestLevel};a._fps=24;a.frameRate=function(a){return arguments.length?(this._fps=a,createjs.Ticker.setFPS(a),this):this._fps};a.VSprite__elementAdded=a._elementAdded;a._elementAdded=function(a,d,b){this.VSprite__elementAdded(a,
d,b);a.nestLevel&&a.nestLevel(this.nestLevel()+1);a.getInitialized&&a.getInitialized()&&a.initComponent()};a.enterFrameEventMode=false;a.tick=function(){var a=this._onEnterFrameItems.length;this.enterFrameEventMode&&this.dispatchEvent("enterFrame");for(var d=0;d<a;d++)if(_.isFunction(this._onEnterFrameItems[d]))this._onEnterFrameItems[d]()};a.addEnterFrameListener=function(a,d){if(_.indexOf(this._onEnterFrameItems,a)!==-1)return this;d?d=true:d=false;d?this._onEnterFrameItems.unshift(a):this._onEnterFrameItems.push(a);
return this};a.removeEnterFrameListener=function(a){this._onEnterFrameItems.splice(_.indexOf(this._onEnterFrameItems,a),1);return this};c.volcano.SystemManager=b})(window);(function(c){var b=function(){throw"LayoutManager cannot be initialized.";},a=function(){this._priorityBins=[];var a=0,d=-1;this.addObject=function(c,k){d<a?a=d=k:(k<a&&(a=k),k>d&&(d=k));var g=this._priorityBins[k];g?_.indexOf(g.items,c)!==1&&(g.items.push(c),g.length++):(g=new b,this._priorityBins[k]=g,g.items.push(c),g.length++)};this.removeLargest=function(){var b=null;if(a<=d){for(var c=this._priorityBins[d];!c||c.length===0;){d--;if(d<a)return null;c=this._priorityBins[d]}for(;0<c.items.length;){b=
c.items[0];this.removeChild(c.items[0],d);break}for(;!c||c.length===0;){d--;if(d<a)break;c=this._priorityBins[d]}}return b};this.removeLargestChild=function(a){for(var b=d,e=a.nestLevel();e<=b;){var c=this._priorityBins[b];if(c&&c.length>0){if(b===a.nestLevel())for(var l=0;l<c.items.length;l++){if(a===c.items[l])return this.removeChild(c.items[l],b),a}else for(l=0;l<c.items.length;l++)if(c.items[l]instanceof volcano.UIComponent&&a===c.items[l])return this.removeChild(c.items[l],b),c.items[l];b--}else if(b===
d&&d--,b--,b<e)break}return null};this.removeSmallest=function(){var b=null;if(a<=d){for(var c=this._priorityBins[a];!c||c.length===0;){a++;if(a>d)return null;c=this._priorityBins[a]}for(;0<c.items.length;){b=c.items[0];this.removeChild(c.items[0],a);break}for(;!c||c.length===0;){a++;if(a>d)break;c=this._priorityBins[a]}}return b};this.removeSmallestChild=function(b){for(var c=b.nestLevel();c<=d;){var g=this._priorityBins[c];if(g&&g.length>0){if(c===b.nestLevel())for(var h=0;h<g.items.length;h++)b===
g.items[h]&&this.removeChild(b,c);else for(var l in g.items)for(h=0;h<g.items.length;h++)if(g.items[h]instanceof volcano.UIComponent&&b===g.items[h])return this.removeChild(g.items[h],c),g.items[h];c++}else if(c===a&&a++,c++,c>d)break}return null};this.removeChild=function(a,d){for(var b=this._priorityBins[d>=0?d:a.nestLevel()],c=0;c<b.items.length;c++)if(b.items[c]===a)return b.items.splice(c,1),b.length--,a;return null};this.removeAll=function(){a=this._priorityBins.length=0;d=-1};this.isEmpty=
function(){return a>d};var b=function(){this.length=0;this.items=[]}};b.systemManager=null;b._updateCompleteQueue=new a;b._invalidatePropertiesQueue=new a;b._invalidatePropertiesFlag=false;b._invalidateClientPropertiesFlag=false;b._invalidateSizeQueue=new a;b._invalidateSizeFlag=false;b._invalidateClientSizeFlag=false;b._invalidateDisplayListQueue=new a;b._invalidateDisplayListFlag=false;b._waitAFrame=false;b._listenersAttached=false;b._originalFrameRate=NaN;b._targetLevel=Number.MAX_VALUE;b._currentObject=
{};b._usePhasedInstantiation=false;b.usePhasedInstantiation=function(a){if(arguments.length){if(b._usePhasedInstantiation!==a)b._usePhasedInstantiation=a}else return b._usePhasedInstantiation};b.invalidateProperties=function(a){if(!b._invalidatePropertiesFlag)b._invalidatePropertiesFlag=true,b._listenersAttached||b.attachListeners(b.systemManager);if(b._targetLevel<=a.nestLevel())b._invalidateClientPropertiesFlag=true;b._invalidatePropertiesQueue.addObject(a,a.nestLevel())};b.invalidateSize=function(a){if(!b._invalidateSizeFlag)b._invalidateSizeFlag=
true,b._listenersAttached||b.attachListeners(b.systemManager);if(b._targetLevel<=a.nestLevel())b._invalidateClientSizeFlag=true;b._invalidateSizeQueue.addObject(a,a.nestLevel())};b.invalidateDisplayList=function(a){if(!b._invalidateDisplayListFlag)b._invalidateDisplayListFlag=true,b._listenersAttached||b.attachListeners(b.systemManager);b._invalidateDisplayListQueue.addObject(a,a.nestLevel())};b._validateProperties=function(){for(var a=b._invalidatePropertiesQueue.removeSmallest();a;){if(a.nestLevel())b._currentObject=
a,a.validateProperties(),a.updateCompletePendingFlag()||(b._updateCompleteQueue.addObject(a,a.nestLevel()),a.updateCompletePendingFlag(true));a=b._invalidatePropertiesQueue.removeSmallest()}if(b._invalidatePropertiesQueue.isEmpty())b._invalidatePropertiesFlag=false};b._validateSize=function(){for(var a=b._invalidateSizeQueue.removeLargest();a;){if(a.nestLevel())b._currentObject=a,a.validateSize(),a.updateCompletePendingFlag()||(b._updateCompleteQueue.addObject(a,a.nestLevel()),a.updateCompletePendingFlag(true));
a=b._invalidateSizeQueue.removeLargest()}if(b._invalidateSizeQueue.isEmpty())b._invalidateSizeFlag=false};b._validateDisplayList=function(){for(obj=b._invalidateDisplayListQueue.removeSmallest();obj;){if(obj.nestLevel())b._currentObject=obj,obj.validateDisplayList(),obj.updateCompletePendingFlag()||(b._updateCompleteQueue.addObject(obj,obj.nestLevel()),obj.updateCompletePendingFlag(true));obj=b._invalidateDisplayListQueue.removeSmallest()}if(b._invalidateDisplayListQueue.isEmpty())b._invalidateDisplayListFlag=
false};b._doPhasedInstantiation=function(){b.usePhasedInstantiation()?b._invalidatePropertiesFlag?b._validateProperties():b._invalidateSizeFlag?b._validateSize():b._invalidateDisplayListFlag&&b._validateDisplayList():(b._invalidatePropertiesFlag&&b._validateProperties(),b._invalidateSizeFlag&&b._validateSize(),b._invalidateDisplayListFlag&&b._validateDisplayList());if(b._invalidatePropertiesFlag||b._invalidateSizeFlag||b._invalidateDisplayListFlag)b.attachListeners(b.systemManager);else{b.usePhasedInstantiation(false);
b._listenersAttached=false;for(var a=b._updateCompleteQueue.removeLargest();a;)!a.initialized()&&a.processedDescriptors()&&a.initialized(true),a.dispatchEvent("updateComplete"),a.updateCompletePendingFlag(false),a=b._updateCompleteQueue.removeLargest()}};b._doPhasedInstantiationCallback=function(){if(!(volcano.UIComponent._callLaterDispatcherCount>0)){b.systemManager.removeEnterFrameListener(b._doPhasedInstantiationCallback);if(volcano.UIComponent._catchCallLaterExceptions)try{b._doPhasedInstantiation()}catch(a){throw"callLaterError LayoutManager";
}else b._doPhasedInstantiation();b._currentObject=null}};b.validateNow=function(){if(!b.usePhasedInstantiation())for(var a=0;b._listenersAttached&&a++<100;)b._doPhasedInstantiation()};b.validateClient=function(a,d){var c=b._currentObject,f,k=false,g=b._targetLevel;if(b._targetLevel===Number.MAX_VALUE)b._targetLevel=a.nestLevel();for(;!k;){k=true;for(f=b._invalidatePropertiesQueue.removeSmallestChild(a);f;){if(f.nestLevel())b._currentObject=f,f.validateProperties(),f.updateCompletePendingFlag()||(b._updateCompleteQueue.addObject(f,
f.nestLevel()),f.updateCompletePendingFlag(true));f=b._invalidatePropertiesQueue.removeSmallestChild(a)}if(b._invalidatePropertiesQueue.isEmpty())b._invalidatePropertiesFlag=false,b._invalidateClientPropertiesFlag=false;for(f=b._invalidateSizeQueue.removeLargestChild(a);f;){if(f.nestLevel())b._currentObject=f,f.validateSize(),f.updateCompletePendingFlag()||(b._updateCompleteQueue.addObject(f,f.nestLevel()),f.updateCompletePendingFlag(true));if(b._invalidateClientPropertiesFlag&&(f=b._invalidatePropertiesQueue.removeSmallestChild(a))){b._invalidatePropertiesQueue.addObject(f,
f.nestLevel());k=false;break}f=b._invalidateSizeQueue.removeLargestChild(a)}if(b._invalidateSizeQueue.isEmpty())b._invalidateSizeFlag=false,b._invalidateClientSizeFlag=false;if(!d){for(f=b._invalidateDisplayListQueue.removeSmallestChild(a);f;){if(f.nestLevel())b._currentObject=f,f.validateDisplayList(),f.updateCompletePendingFlag()||(b._updateCompleteQueue.addObject(f,f.nestLevel()),f.updateCompletePendingFlag(true));if(b._invalidateClientPropertiesFlag&&(f=b._invalidatePropertiesQueue.removeSmallestChild(a))){b._invalidatePropertiesQueue.addObject(f,
f.nestLevel());k=false;break}if(b._invalidateClientSizeFlag&&(f=b._invalidateSizeQueue.removeLargestChild(a))){b._invalidateSizeQueue.addObject(f,f.nestLevel());k=false;break}f=b._invalidateDisplayListQueue.removeSmallestChild(a)}if(b._invalidateDisplayListQueue.isEmpty())b._invalidateDisplayListFlag=false}}if(g===Number.MAX_VALUE&&(b._targetLevel=Number.MAX_VALUE,!d))for(f=b._updateCompleteQueue.removeLargestChild(a);f;)f.initialized()||f.initialized(true),f.updateCompletePendingFlag(false),f=b._updateCompleteQueue.removeLargestChild(a);
b._currentObject=c};b._waitFrame=function(){b.systemManager.removeEnterFrameListener(b._waitFrame);b.systemManager.addEnterFrameListener(b._doPhasedInstantiationCallback);b._waitAFrame=true};b.attachListeners=function(a){b._waitAFrame?a.addEnterFrameListener(b._doPhasedInstantiationCallback):a.addEnterFrameListener(b._waitFrame);b._listenersAttached=true};c.volcano.LayoutManager=b})(window);(function(c){var b=function(){this.initialize()},a=b.prototype=new volcano.VSprite,e=function(a,b){this.method=a;this.args=b};b._callLaterDispatcherCount=0;b._catchCallLaterExceptions=false;a._methodQueue=null;a.systemManager=null;a._skin=null;a.states=null;a._deferredSetStyles=null;a._owner=null;a._updateCompletePendingFlag=false;a._processedDescriptiors=false;a._domElement=null;a.VSprite_initialize=a.initialize;a.initialize=function(a){this._methodQueue=[];this.systemManager=volcano.LayoutManager.systemManager;
this._skin={};this.states=[];this._deferredSetStyles={};this._owner={};this._domElement={};this.VSprite_initialize(a)};a.owner=function(a){return arguments.length?(this._owner=a,this):this._owner?this._owner:this.parent};a._nestLevel=0;a.nestLevel=function(a){if(arguments.length){if(a!==1){a>1&&this._nestLevel!==a?(this._nestLevel=a,this._updateCallbacks(),a++):a===0?this._nestLevel=a=0:a++;for(var b=this.getNumElements(),c=0;c<b;c++){var e=this.getElementAt(c);e&&e.nestLevel(a)}}}else return this._nestLevel};
a.processedDescriptors=function(a){if(arguments.length)this._processedDescriptors=a;else return this._processedDescriptors};a._updateCallbacks=function(){this._invalidateDisplayListFlag&&volcano.LayoutManager.invalidateDisplayList(this);this._invalidateSizeFlag&&volcano.LayoutManager.invalidateSize(this);this._invalidatePropertiesFlag&&volcano.LayoutManager.invalidateProperties(this);if(this.systemManager&&this._methodQueue.length>0&&!this._listeningForRender)this.systemManager.addEnterFrameListener(this._callLaterDispatcher),
this._listeningForRender=true};a.validateNow=function(){volcano.LayoutManager.validateClient(this)};a.setStyle=function(a,b,c){var e=false;_.isString(a)&&(this._deferredSetStyles[a]=arguments.length>2?{value:b,prefix:volcano._browserPrefix+a}:{value:b},e=true);e&&(this.invalidateProperties(),this.invalidateDisplayList());return this};a._measuredWidth=0;a.measuredWidth=function(a){return arguments.length?(this._measuredWidth=a,this):this._measuredWidth};a._measuredHeight=0;a.measuredHeight=function(a){return arguments.length?
(this._measuredHeight=a,this):this._measuredHeight};a._widthChanged=false;a._width=0;a._height=0;a._oldWidth=0;a._oldHeight=0;a.width=function(a){return arguments.length?(this._width=a,this._widthChanged=true,this.invalidateProperties(),this.invalidateDisplayList(),this):this._width};a._percentWidth=0;a._oldPercentWidth=0;a._percentWidthChanged=false;a.percentWidth=function(a){return arguments.length?(this._percentWidth=a,this._percentWidthChanged=true,this.invalidateProperties(),this.invalidateDisplayList(),
this):this._percentWidth};a._heightChanged=false;a.height=function(a){return arguments.length?(this._height=a,this._heightChanged=true,this.invalidateProperties(),this.invalidateDisplayList(),this):this._height};a._percentHeight=0;a._oldPercentHeight=0;a._percentHeightChanged=false;a.percentHeight=function(a){return arguments.length?(this._percentHeight=a,this._percentHeightChanged=true,this.invalidateProperties(),this.invalidateDisplayList(),this):this._height};a._enabled=false;a.enabled=function(a){if(arguments.length)this._enabled=
a,this.invalidateDisplayList(),this.dispatchEvent("enabledChanged");else return this._enabled};a._initialized=false;a.initialized=function(a){if(arguments.length)this._initialized=arguments[0],arguments[0]&&this.dispatchEvent("creationComplete");else return this._initialized};a.updateCompletePendingFlag=function(a){if(arguments.length)this._updateCompletePendingFlag=a;else return this._updateCompletePendingFlag};a.setActualSize=function(a,b){var c=false;if(this._width!=a)this._width=a,c=this._widthChanged=
true,this.dispatchEvent("widthChanged");if(this._height!=b)this._height=b,c=this._heightChanged=true,this.dispatchEvent("heightChanged");c&&(this.invalidateProperties(),this.invalidateDisplayList())};a._ox=0;a._oy=0;a._oz=0;a._x=0;a._y=0;a._z=0;a._oldX=0;a._oldY=0;a._oldZ=0;a.x=function(a){if(arguments.length){if(this._x!=a)this._x=a,this.invalidateProperties(),this.invalidateDisplayList();return this}else return this._string[this._positions[0]]+this._ox};a.y=function(a){if(arguments.length){if(this._y!=
a)this._y=a,this.invalidateProperties(),this.invalidateDisplayList();return this}else return this._string[this._positions[1]]+this._oy};a.z=function(a){if(arguments.length){if(this._z!=a)this._z=a,this.invalidateProperties(),this.invalidateDisplayList();return this}else return this._string[this._positions[2]]+this._oz};a.move=function(a,b,c){var e=false;if(this._x!=a)this._x=a,e=true;if(this._y!=b)this._y=b,e=true;if(arguments.length>=3&&this._z!=c)this._z=c,e=true;e&&(this.invalidateProperties(),
this.invalidateDisplayList())};a._rotationX=0;a._rotationY=0;a._rotationZ=0;a._oldRotationX=0;a._oldRotationY=0;a._oldRotationZ=0;a.rotationX=function(a){if(arguments.length){if(a!=this._rotationX)this._rotationX=a,this.invalidateProperties(),this.invalidateDisplayList();return this}else return this._string[this._positions[3]]};a.rotationY=function(a){if(arguments.length){if(a!=this._rotationY)this._rotationY=a,this.invalidateProperties(),this.invalidateDisplayList();return this}else return this._string[this._positions[4]]};
a.rotationZ=function(a){if(arguments.length){if(a!=this._rotationZ)this._rotationZ=a,this.invalidateProperties(),this.invalidateDisplayList();return this}else return this._string[this._positions[5]]};a.rotation=function(a,b,c){var e=false;if(a!=this._rotationX)this._rotationX=a,e=true;if(b!=this._rotationY)this._rotationY=b,e=true;if(c!=this._rotationZ)this._rotationZ=c,e=true;e&&(this.invalidateProperties(),this.invalidateDisplayList());return this};a._scaleX=1;a._scaleY=1;a._scaleZ=1;a._oldScaleX=
1;a._oldScaleY=1;a._oldScaleZ=1;a.scaleX=function(a){if(arguments.length){if(this._scaleX!=a)this._scaleX=a,this.invalidateProperties(),this.invalidateDisplayList();return this}else return this._string[this._positions[6]]};a.scaleY=function(a){if(arguments.length){if(this._scaleY!=a)this._scaleY=a,this.invalidateProperties(),this.invalidateDisplayList();return this}else return this._string[this._positions[7]]};a.scaleZ=function(a){if(arguments.length){if(this._scaleZ!=a)this._scaleZ=a,this.invalidateProperties(),
this.invalidateDisplayList();return this}else return this._string[this._positions[8]]};a.scale=function(a,b,c){switch(arguments.length){case 0:return this.isAutoUpdate&&this.updateTransform(),this._string[this._positions[6]];case 1:this._scaleZ=this._scaleY=this._scaleX=a;this.invalidateProperties();this.invalidateDisplayList();break;case 2:this._scaleX=a;this._scaleY=b;this._scaleZ=1;this.invalidateProperties();this.invalidateDisplayList();break;case 3:this._scaleX=a,this._scaleY=b,this._scaleZ=
c,this.invalidateProperties(),this.invalidateDisplayList()}return this};a._invalidatePropertiesFlag=false;a._invalidateSizeFlag=false;a._invalidateDisplayListFlag=false;a.invalidateProperties=function(){if(!this._invalidatePropertiesFlag)this._invalidatePropertiesFlag=true,volcano.LayoutManager.invalidateProperties(this)};a.invalidateSize=function(){if(!this._invalidateSizeFlag)this._invalidateSizeFlag=true,volcano.LayoutManager.invalidateSize(this)};a.invalidateDisplayList=function(){if(!this._invalidateDisplayListFlag)this._invalidateDisplayListFlag=
true,volcano.LayoutManager.invalidateDisplayList(this)};a.validateProperties=function(){if(this._invalidatePropertiesFlag)this.commitProperties(),this._invalidatePropertiesFlag=false};a.validateSize=function(a){if(a===true)for(a=0;a<this.getNumElements;a++)this.getElementAt(a).validateSize(true);this._invalidateSizeFlag&&this.measure()};a.validateDisplayList=function(){if(this._invalidateDisplayListFlag)this.updateDisplayList(this.measuredWidth(),this.measuredHeight()),this._invalidateDisplayListFlag=
false};a._listeningForRender=false;a._callLaterDispatcher=function(){b._callLaterDispatcherCount++;if(this._listeningForRender)this.systemManager.removeEnterFrameListener(this._callLaterDispatcher),this._listeningForRender=false;var a=this._methodQueue;this._methodQueue=[];var c=a.length;if(c>0)for(var e=0;e<c;e++){var k=a[e];k.method.apply(null,k.args)}b._callLaterDispatcherCount--};a.callLater=function(a,b){this._methodQueue.push(new e(a,b));if(!this._listeningForRender)this.systemManager.addEnterFrameListener(this._callLaterDispatcher),
this._listeningForRender=true};a.VSprite__elementAdded=a._elementAdded;a._elementAdded=function(a,b,c){this.VSprite__elementAdded(a,b,c);a.parentChanged(this);a.nestLevel(this.nestLevel()+1);a.initialized()||a.initComponent()};a.VSprite__elementRemoved=a._elementRemoved;a._elementRemoved=function(a,b,c){a.parentChanged(null);this.VSprite__elementRemoved(a,b,c)};a.parentChanged=function(a){a?this.parent=a.name==="systemManager"?a:a.parent:(this.parent=null,this.nestLevel(0))};a.initComponent=function(){this.initialized()||
(this.dispatchEvent("preinitialize"),this.createChildren(),this.childrenCreated(),this.initializationComplete())};a.getLayoutBoundsX=function(){};a.getLayoutBoundsY=function(){};a.createChildren=function(){};a.childrenCreated=function(){this.invalidateProperties();this.invalidateSize();this.invalidateDisplayList()};a.commitProperties=function(){var a=false;if(this._x!=this._oldx||this._y!=this._oldy||this._z!=this._oldz)this._oldx=this._x,this._oldy=this._y,this._oldz=this._z,this._string[this._positions[0]]=
this._x-this._ox,this._string[this._positions[1]]=this._y-this._oy,this._string[this._positions[2]]=this._z-this._oz,a=true;if(this._rotationX!=this._oldRotationX||this._rotationY!=this._oldRotationY||this._rotationZ!=this._oldRotationZ)this._oldRotationX=this._rotationX,this._oldRotationY=this._rotationY,this._oldRotationZ=this._rotationZ,this._string[this._positions[3]]=this._rotationX,this._string[this._positions[4]]=this._rotationY,this._string[this._positions[5]]=this._rotationZ,a=true;if(this._scaleX!=
this._oldScaleX||this._scaleY!=this._oldScaleY||this._scaleZ!=this._oldScaleZ)this._oldScaleX=this._scaleX,this._oldScaleY=this._scaleY,this._oldScaleZ=this._scaleZ,this._string[this._positions[6]]=this._scaleX,this._string[this._positions[7]]=this._scaleY,this._string[this._positions[8]]=this._scaleZ,a=true;a&&this.updateTransform();a=false;if(this._width!=this._oldWidth)this._oldWidth=this._width,this._domElement.style.width=this._width+"px",a=true;if(this._percentWidth!=this._oldPercentWidth&&
!a)this._oldPercentWidth=this._percentWidth,this._domElement.style.width=this._percentWidth+"%";a=false;if(this._height!=this._oldHeight)this._oldHeight=this._height,this._domElement.style.height=this._height+"px",a=true;if(this._percentHeight!=this._oldPercentHeight&&!a)this._oldPercentHeight=this._percentHeight,this._domElement.style.height=this._percentHeight+"%"};a.measure=function(){};a.updateDisplayList=function(){};a.initializationComplete=function(){this.dispatchEvent("initialize");this.processedDescriptors(true)};
c.volcano.UIComponent=b})(window);(function(c){var b=function(){this.initialize()},a=b.prototype=new volcano.UIComponent;a.UIComponent_initialize=a.initialize;a.initialize=function(){this.UIComponent_initialize()};a.createChildren=function(){this._validateSkinChange()};a._skinStateIsDirty=false;a.invalidateSkinState=function(){if(!this._skinStateIsDirty)this._skinStateIsDirty=true,this.invalidateProperties()};a.getSkinParts=function(){return null};a.attachSkin=function(){if(!this._skin){var a=this.getStyle("skinClass");a&&this.setSkin(new this[a]);
this._skin&&(this._skin.setOwner(this),this._skin.setStyleName(this),this.addElement(this._skin));this.findSkinParts();this.invalidateSkinState()}};a.clearSkinParts=function(){var a=this.getSkinParts();if(a)for(var b in a)this[b]!==null&&this.partRemoved(b,this[b])};a.detachSkin=function(){this._skin.setStyleName(null);this.clearSkinParts();this.removeElement(this._skin);this.setSkin(null)};a.findSkinParts=function(){var a=this.getSkinParts();if(a)for(var b in a){if(a[b]==true&&!(b in this._skin))throw"Required Skin Part Not Found";
b in this._skin&&(this[b]=this._skin[b],this[b]!==null&&this.partAdded(b,this[b]))}};a.getCurrentSkinState=function(){return null};a.partAdded=function(){};a.partRemoved=function(){};a._validateSkinChange=function(){this._skin&&this.detachSkin();this.attachSkin()};c.volcano.SkinnableComponent=b})(window);(function(){var c=function(){this.initialize()},b=c.prototype=new volcano.UIComponent;b._applicationDPI=160;b.measuredDefaultHeight=0;b.measuredDefaultWidth=0;b.UIComponent_initialize=b.initialize;b.initialize=function(){this.UIComponent_initialize()};b._currentState="";b.getCurrentState=function(){return this._currentState};b.setCurrentState=function(a){if(a!==this._currentState)this._currentState=a,this.commitCurrentState()};b.beginHighlightBitmapCapture=function(){};b.endHighlightBitmapCapture=
function(){};b.hasState=function(){return true};b.applyColorTransform=function(){};b.getElementPreferredHeight=function(a){return a instanceof volcano.LayoutBase?a.getPreffrredBoundsWidth():a instanceof volcano.UIComponent?a.getMeasuredWidth():a.getWidth()};b.getElementPreferredWidth=function(a){return a instanceof volcano.LayoutBase?a.getPreffrredBoundsHeight():a instanceof volcano.UIComponent?a.getMeasuredHeight():a.getHeight()};b.setElementPosition=function(a,b,c){a instanceof volcano.LayoutBase?
a.setLayoutBoundPosition(b,c,false):a instanceof volcano.UIComponent?a.move(b,c):(a.setX(b),a.setY(c))};b.setElementSize=function(a,b,c){a instanceof volcano.LayoutBase?a.setLayoutBoundSize(b,c,false):a instanceof volcano.UIComponent?a.setActualSize(b,c):(a.setWidth(b),a.setHeight(c))};b.UIComponent_getMeasuredWidth=b.getMeasuredWidth;b.UIComponent_getMeasuredHeight=b.getMeasuredHeight;b.getMeasuredWidth=function(){return Math.max(this.UIComponent_getMeasuredWidth(),this.measuredDefaultWidth)};b.getMeasuredHeight=
function(){return Math.max(this.UIComponent_getMeasuredHeight(),this.measuredDefaultHeight)};b.useSymbolColor=false;b.UIComponent_updateDisplayList=b.updateDisplayList;b.updateDisplayList=function(a,b){this.UIComponent_updateDisplayList(a,b);this.layoutContents(a,b);this.useSymbolColor&&this.applySymbolColor();useMinimumHitArea&&this.drawMinimumHitArea(a,b);this.drawBackground(a,b)};b.commitCurrentState=function(){};b.layoutContents=function(){};b.drawBackground=function(){};this.window.volcano.SkinBase=
c})(window);(function(c){var b=function(){throw"ColorUtil cannot be initialized.";};b.getRandomColor=function(){for(var a="0123456789ABCDEF".split(""),b="#",c=0;c<6;c++)b+=a[Math.round(Math.random()*15)];return b};c.volcano.ColorUtil=b})(window);(function(){var c=function(){this.initialize()},b=c.prototype=new volcano.VObject;b.VObject_initialize=b.initialize;b.initialize=function(){this.VObject_initialize(document.createElement("img"));_.bindAll(this,"errHandler")};b.errHandler=function(){this.errorImg();this.errorImg();if(this.errorImg()!==""&&this.errorImg()!==this._source)this._domElement.src=this.errorImg()};b._source="";b.source=function(a){this._domElement.src=a;this._domElement.onerror=this.errHandler;this._source=a;return this};
b._errorImg="";c.DEFAULT_ERR_IMGAGE="";b.errorImg=function(a){return arguments.length?(this._errorImg=a,this):this._errorImg===""?c.DEFAULT_ERR_IMGAGE:this._errorImg};this.window.volcano.Image=c})(window);(function(c){function b(){if(o)q.scrollMode==="auto"?n.move(s,t,0):q.scrollMode==="vertical"?n.move(0,t,0):q.scrollMode==="horizontal"&&n.move(s,0,0);else if(!p){var a=n.x(),b=n.y();if(Math.abs(r)>0||Math.abs(v)>0)r=Math.abs(r)<0.9?0:r*E,v=Math.abs(v)<0.9?0:v*E;if(a>0||a<g){var c=a>0?0:g;r===0||A?(r=(c-a)*w,A=true):r*=j}if(b>0||b<h)c=b>0?0:h,v===0||x?(v=(c-b)*w,x=true):v*=j;var d,e;if(Math.abs(r)>0.01||Math.abs(v)>0.01){if(q.scrollMode==="auto"){d=a>0&&a<1?0:a>g-1&&a<g?g:a+r;e=b>0&&b<1?0:b>h-1&&b<
h?h:b+v;if(a>0&&a<1||a>g-1&&a<g)A=false;if(b>0&&b<1||b>h-1&&b<h)x=false}else if(q.scrollMode==="vertical"){if(d=0,e=b>0&&b<1?0:b>h-1&&b<h?h:b+v,b>0&&b<1||b>h-1&&b<h)x=false}else if(q.scrollMode==="horizontal"){d=a>0&&a<1?0:a>g-1&&a<g?g:a+r;if(a>0&&a<1||a>g-1&&a<g)A=false;e=0}n.move(d,e,0)}}}function a(a){var b=volcano.hasTouch?a.touches[0]:a;a.preventDefault();g=u.width()-n.width();h=u.height()-n.height();k.addEventListener(volcano.e.MOUSE_MOVE,e);k.addEventListener(volcano.e.MOUSE_UP,d);k.addEventListener(volcano.e.CANCEL,
d);o=false;p=true;C=b.pageX-n.x();D=b.pageY-n.y();z=true}function e(a){var b=volcano.hasTouch?a.touches[0]:a;a.preventDefault();o=true;p=false;a=b.pageY;s=b.pageX-C;t=a-D;z&&(y=s,B=t,z=false);r=s-y;v=t-B;y=s;B=t}function d(){p=o=false;k.removeEventListener(volcano.e.MOUSE_MOVE,e);k.removeEventListener(volcano.e.MOUSE_UP,d);k.removeEventListener(volcano.e.CANCEL,d)}var l=function(a,b,c){this.initialize(a,b,c)},f=l.prototype=new volcano.VObject;f._domElement=null;f._scroller=null;var k,g,h,n,o=false,
p=false,j=0.7,w=0.1,A=false,x=false,C=0,D=0,s=0,t=0,r=0,v=0,y=0,B=0,E=0.9,q,u;f.VObject_initialize=f.initialize;f.initialize=function(c,d,e){this._domElement={};this._scroller={};q={scrollMode:"auto"};u=c.parent;for(i in e)q[i]=e[i];u.setStyle("overflow","hidden");n=c;k=d;this._domElement=c._domElement;this._domElement.volcanoObj=this;this._scroller=this._domElement.children[0];g=u.width()-n.width();h=u.height()-n.height();k.addEventListener(volcano.e.MOUSE_DOWN,a);k.addEnterFrameListener(b)};var z=
false;c.volcano.Scroller=l})(window);
