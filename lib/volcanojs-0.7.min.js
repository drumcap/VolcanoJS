/*
* VolcanoJS
* Visit http://volcanojs.com/ for documentation, updates and examples.
*
* Copyright (c) 2012 gstech.co.kr, inc.
* 
* Distributed under the terms of the MIT license.
* http://www.opensource.org/licenses/mit-license.html
*
* This notice shall be included in all copies or substantial portions of the Software.
*/
this.createjs=this.createjs||{};
(function(){var c=function(){throw"Ticker cannot be instantiated.";};c.useRAF=null;c._listeners=null;c._pauseable=null;c._paused=false;c._inited=false;c._startTime=0;c._pausedTime=0;c._ticks=0;c._pausedTicks=0;c._interval=50;c._lastTime=0;c._times=null;c._tickTimes=null;c._rafActive=false;c._timeoutID=null;c.addListener=function(a,d){a!=null&&(c._inited||c.init(),c.removeListener(a),c._pauseable[c._listeners.length]=d==null?true:d,c._listeners.push(a))};c.init=function(){c._inited=true;c._times=[];
c._tickTimes=[];c._pauseable=[];c._listeners=[];c._times.push(c._lastTime=c._startTime=c._getTime());c.setInterval(c._interval)};c.removeListener=function(a){var d=c._listeners;d&&(a=_.indexOf(d,a),a!=-1&&(d.splice(a,1),c._pauseable.splice(a,1)))};c.removeAllListeners=function(){c._listeners=[];c._pauseable=[]};c.setInterval=function(a){c._interval=a;c._inited&&c._setupTick()};c.getInterval=function(){return c._interval};c.setFPS=function(a){c.setInterval(1E3/a)};c.getFPS=function(){return 1E3/c._interval};
c.getMeasuredFPS=function(a){if(c._times.length<2)return-1;a==null&&(a=c.getFPS()|0);a=Math.min(c._times.length-1,a);return 1E3/((c._times[0]-c._times[a])/a)};c.setPaused=function(a){c._paused=a};c.getPaused=function(){return c._paused};c.getTime=function(a){return c._getTime()-c._startTime-(a?c._pausedTime:0)};c.getTicks=function(a){return c._ticks-(a?c._pausedTicks:0)};c._handleAF=function(){c._rafActive=false;c._setupTick();c._getTime()-c._lastTime>=(c._interval-1)*0.97&&c._tick()};c._handleTimeout=
function(){c.timeoutID=null;c._setupTick();c._tick()};c._setupTick=function(){if(!(c._rafActive||c.timeoutID!=null)){if(c.useRAF){var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(a){a(c._handleAF);c._rafActive=true;return}}c.timeoutID=setTimeout(c._handleTimeout,c._interval)}};c._tick=function(){var a=c._getTime();c._ticks++;var d=a-c._lastTime,h=c._paused;h&&(c._pausedTicks++,
c._pausedTime+=d);c._lastTime=a;for(var b=c._pauseable,e=c._listeners.slice(),f=e?e.length:0,g=0;g<f;g++){var k=e[g];k==null||h&&b[g]||(k.tick?k.tick(d,h):k instanceof Function&&k(d,h))}for(c._tickTimes.unshift(c._getTime()-a);c._tickTimes.length>100;)c._tickTimes.pop();for(c._times.unshift(a);c._times.length>100;)c._times.pop()};var b=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);c._getTime=function(){return b&&b.call(performance)||
(new Date).getTime()};createjs.Ticker=c})();var Stats=function(){function c(d,a,h){var b,c,e;for(c=0;c<30;c++)for(b=0;b<73;b++)e=(b+c*74)*4,d[e]=d[e+4],d[e+1]=d[e+5],d[e+2]=d[e+6];for(c=0;c<30;c++)e=(73+c*74)*4,c<a?(d[e]=m[h].bg.r,d[e+1]=m[h].bg.g,d[e+2]=m[h].bg.b):(d[e]=m[h].fg.r,d[e+1]=m[h].fg.g,d[e+2]=m[h].fg.b)}var b=0,a=2,d,h=0,j=(new Date).getTime(),e=j,f=j,g=0,k=1E3,n=0,o,q,l,z,A,w=0,C=1E3,D=0,s,t,r,v,x=0,B=1E3,E=0,p,u,y,F,m={fps:{bg:{r:16,g:16,b:48},fg:{r:0,g:255,b:255}},ms:{bg:{r:16,g:48,b:16},fg:{r:0,g:255,b:0}},mem:{bg:{r:48,g:16,
b:26},fg:{r:255,g:0,b:128}}};d=document.createElement("div");d.style.cursor="pointer";d.style.width="80px";d.style.opacity="0.9";d.style.zIndex="10001";d.addEventListener("click",function(){b++;b==a&&(b=0);o.style.display="none";s.style.display="none";p.style.display="none";switch(b){case 0:o.style.display="block";break;case 1:s.style.display="block";break;case 2:p.style.display="block"}},false);o=document.createElement("div");o.style.backgroundColor="rgb("+Math.floor(m.fps.bg.r/2)+","+Math.floor(m.fps.bg.g/
2)+","+Math.floor(m.fps.bg.b/2)+")";o.style.padding="2px 0px 3px 0px";d.appendChild(o);q=document.createElement("div");q.style.fontFamily="Helvetica, Arial, sans-serif";q.style.textAlign="left";q.style.fontSize="9px";q.style.color="rgb("+m.fps.fg.r+","+m.fps.fg.g+","+m.fps.fg.b+")";q.style.margin="0px 0px 1px 3px";q.innerHTML='<span style="font-weight:bold">FPS</span>';o.appendChild(q);l=document.createElement("canvas");l.width=74;l.height=30;l.style.display="block";l.style.marginLeft="3px";o.appendChild(l);
z=l.getContext("2d");z.fillStyle="rgb("+m.fps.bg.r+","+m.fps.bg.g+","+m.fps.bg.b+")";z.fillRect(0,0,l.width,l.height);A=z.getImageData(0,0,l.width,l.height);s=document.createElement("div");s.style.backgroundColor="rgb("+Math.floor(m.ms.bg.r/2)+","+Math.floor(m.ms.bg.g/2)+","+Math.floor(m.ms.bg.b/2)+")";s.style.padding="2px 0px 3px 0px";s.style.display="none";d.appendChild(s);t=document.createElement("div");t.style.fontFamily="Helvetica, Arial, sans-serif";t.style.textAlign="left";t.style.fontSize=
"9px";t.style.color="rgb("+m.ms.fg.r+","+m.ms.fg.g+","+m.ms.fg.b+")";t.style.margin="0px 0px 1px 3px";t.innerHTML='<span style="font-weight:bold">MS</span>';s.appendChild(t);l=document.createElement("canvas");l.width=74;l.height=30;l.style.display="block";l.style.marginLeft="3px";s.appendChild(l);r=l.getContext("2d");r.fillStyle="rgb("+m.ms.bg.r+","+m.ms.bg.g+","+m.ms.bg.b+")";r.fillRect(0,0,l.width,l.height);v=r.getImageData(0,0,l.width,l.height);try{webkitPerformance&&webkitPerformance.memory.totalJSHeapSize&&
(a=3)}catch(G){}p=document.createElement("div");p.style.backgroundColor="rgb("+Math.floor(m.mem.bg.r/2)+","+Math.floor(m.mem.bg.g/2)+","+Math.floor(m.mem.bg.b/2)+")";p.style.padding="2px 0px 3px 0px";p.style.display="none";d.appendChild(p);u=document.createElement("div");u.style.fontFamily="Helvetica, Arial, sans-serif";u.style.textAlign="left";u.style.fontSize="9px";u.style.color="rgb("+m.mem.fg.r+","+m.mem.fg.g+","+m.mem.fg.b+")";u.style.margin="0px 0px 1px 3px";u.innerHTML='<span style="font-weight:bold">MEM</span>';
p.appendChild(u);l=document.createElement("canvas");l.width=74;l.height=30;l.style.display="block";l.style.marginLeft="3px";p.appendChild(l);y=l.getContext("2d");y.fillStyle="#301010";y.fillRect(0,0,l.width,l.height);F=y.getImageData(0,0,l.width,l.height);return{domElement:d,update:function(){h++;j=(new Date).getTime();w=j-e;C=Math.min(C,w);D=Math.max(D,w);c(v.data,Math.min(30,30-w/200*30),"ms");t.innerHTML='<span style="font-weight:bold">'+w+" MS</span> ("+C+"-"+D+")";r.putImageData(v,0,0);e=j;if(j>
f+1E3){g=Math.round(h*1E3/(j-f));k=Math.min(k,g);n=Math.max(n,g);c(A.data,Math.min(30,30-g/100*30),"fps");q.innerHTML='<span style="font-weight:bold">'+g+" FPS</span> ("+k+"-"+n+")";z.putImageData(A,0,0);if(a==3)x=webkitPerformance.memory.usedJSHeapSize*9.54E-7,B=Math.min(B,x),E=Math.max(E,x),c(F.data,Math.min(30,30-x/2),"mem"),u.innerHTML='<span style="font-weight:bold">'+Math.round(x)+" MEM</span> ("+Math.round(B)+"-"+Math.round(E)+")",y.putImageData(F,0,0);f=j;h=0}}}};(function(c){var b=c.volcano,a,d=c._;!d&&typeof require!=="undefined"&&(d=require("underscore"),require("backbone"));if(typeof Backbone!=="undefined"&&Backbone)c.volcano=a=Backbone,a.BackboneVersion=a.VERSION;else throw Error("volcanojs needs backbonejs library. \n you must include backbonejs before volcanojs");a.VERSION="0.1";a.noConflict=function(){c.volcano=b;return this};d=navigator.userAgent.toLocaleLowerCase();a.isMobile={android:d.match(/android/i)?true:false,blackberry:d.match(/blackberry/i)?
true:false,iphone:d.match(/iphone|ipod/i)?true:false,ipad:d.match(/ipad/i)?true:false,windows:d.match(/iemobile/i)?true:false};a.isMobile.any=a.isMobile.android||a.isMobile.blackberry||a.isMobile.iphone||a.isMobile.ipad||a.isMobile.windows;a.hasTouch="ontouchstart"in c?true:false;a.has3d="WebKitCSSMatrix"in c&&"m11"in new WebKitCSSMatrix;a.e={CLICK:a.hasTouch?"touchend":"click",MOUSE_DOWN:a.hasTouch?"touchstart":"mousedown",MOUSE_MOVE:a.hasTouch?"touchmove":"mousemove",MOUSE_UP:a.hasTouch?"touchend":
"mouseup",CANCEL:a.hasTouch?"touchcancel":"mouseup"};a.isHtml5={query:document.querySelectorAll?true:false,canvas:c.HTMLCanvasElement?true:false,audio:c.HTMLAudioElement&&c.Audio?true:false,video:c.HTMLVideoElement&&c.Video?true:false,storage:c.localStorage&&c.localStorage.setItem?true:false,orientation:"onorientationchange"in c?true:false,hashchange:"onhashchange"in c?true:false};a._browserPrefix="webkit";a._transformProperty="webkitTransform";a.isCss3DocumentDIV=document.createElement("div");a.isCss3=
{isTransform:function(){var d=["","webkit","Moz","O","ms"],b=d.length,e;for(e=0;e<b;e++)if(d[e]+"Transform"in a.isCss3DocumentDIV.style)return a._transformProperty=d[e]+"Transform",a._browserPrefix=d[e],true;return false}(),isTransition:void 0}})(window);(function(c){var b=function(){this.initialize()},a=volcano.Model.prototype,d=volcano.Collection.prototype,h=volcano.View.prototype,j=volcano.Router.prototype,e=volcano.History.prototype,f=volcano.Events;volcano.Events.addEventListener=volcano.Events.on;volcano.Events.removeEventListener=volcano.Events.off;volcano.Events.dispatchEvent=volcano.Events.trigger;a.addEventListener=a.on;a.removeEventListener=a.off;a.dispatchEvent=a.trigger;d.addEventListener=d.on;d.removeEventListener=d.off;d.dispatchEvent=
d.trigger;h.addEventListener=h.on;h.removeEventListener=h.off;h.dispatchEvent=h.trigger;j.addEventListener=j.on;j.removeEventListener=j.off;j.dispatchEvent=j.trigger;e.addEventListener=e.on;e.removeEventListener=e.off;e.dispatchEvent=e.trigger;a=b.prototype;a.initialize=function(){};a.addEventListener=a.on=a.bind=f.on;a.removeEventListener=a.off=a.unbind=f.off;a.dispatchEvent=a.trigger=f.trigger;c.volcano.EventDispatcher=b})(window);(function(c){var b=function(d,a){this.initialize(d,a)};b._eventSplitter=/\s+/;b.randomColorMode=false;var a=b.prototype;a._domElement=null;a._elementsContent=null;a.eventCallback=null;a.parent=null;a._alpha=1;a._string=[];a._positions=[];a.isAutoUpdate=true;a._ox=0;a._oy=0;a._oz=0;a._option={};a.initialize=function(d,a){var c;this._domElement={};a!==void 0?this._option=a:this._option.defaultValue="on";var e=this;c=function(d,a,h){var c=document.createElement("div");c.style.width=d+"px";c.style.height=
a+"px";c.style.margin="0px";c.style.padding="0px";if(h!=void 0)c.style.backgroundColor=h;if(b.randomColorMode)c.style.backgroundColor=volcano.ColorUtil.getRandomColor();if(e._option.defaultValue==="on")c.style.position="absolute";return c};if(arguments.length===0||_.isUndefined(d))d=c(this._width,this._height);else if(typeof d==="string"){var f=d,d=c(this._width,this._height);switch(f[0]){case ".":d.className=f.substr(1);break;case "#":d.id=f.substr(1);break;default:d.id=f}}else if(d.val&&d.attr){if(d.length>
1)throw Error("You are using multi selected jQuery/Zepto Object \n You MUST select only one DOM Object \n If you want to use multi selected jQuery/Zepto Object, you should use alternative class that is VobjectArray");d=d.get(0)}else if(this._option.defaultValue!=="off")d.style.position=d.style.position=="static"?"relative":"absolute";this._option.defaultValue==="on"&&volcano.has3d&&(d.style[volcano._browserPrefix+"TransformStyle"]="preserve-3d",d.style[volcano._transformProperty]="translateZ(0px)");
this._string=["translate3d(",0,"px,",0,"px,",0,"px) ","rotateX(",0,"deg) ","rotateY(",0,"deg) ","rotateZ(",0,"deg) ","scale3d(",1,", ",1,", ",1,") "];this._positions=[1,3,5,8,11,14,17,19,21];this._oz=this._oy=this._ox=0;this._domElement=d;this._domElement.volcanoObj=this};a.addEventListener=function(d,a){var c,e,f,g,k,n,o,q;if(!d&&!a)return this;d=d.split(b._eventSplitter);c=this._callbacks||(this._callbacks={});for(n=function(d){if(d){if(!o||q!=d.target)o=q=d.target;if(!o.volcanoObj){o=o.parentNode;
n.call(this,d);return}d.vCurrentTarget=this.volcanoObj;d.vTarget=o.volcanoObj}a(d)};e=d.shift();)f=(k=c[e])?k.tail:{},f.next=g={},f.callback=n,c[e]={tail:g,next:k?k.next:f},this._domElement.addEventListener(e,n);return this};a.removeEventListener=function(d,a){var c,e,f,g,k;if(e=this._callbacks){if(!d&&!a)return this;for(d=d.split(b._eventSplitter);c=d.shift();)if(f=e[c],delete e[c],f&&a)for(g=f.tail;(f=f.next)!==g;)k=f.callback,this._domElement.removeEventListener(c,k);return this}};a.dispatchEvent=
function(d,a){var c,e;if(_.isString(d))for(d=d.split(b._eventSplitter);c=d.shift();)a?a=true:a=false,e=document.createEvent("CustomEvent"),e.initCustomEvent(c,a,false,{}),this._domElement.dispatchEvent(e);else _.isObject(d)&&this._domElement.dispatchEvent(d);return this};a._width=0;a.width=function(d){if(arguments.length)return this._width=d,this._domElement.style.width=d+"px",this;else{this._width=this._domElement.style.width.toString().split("px")[0];if(this._width==="")this._width=getComputedStyle(this._domElement).width.toString().split("px")[0];
return this._width}};a._height=0;a.height=function(d){if(arguments.length)return this._height=d,this._domElement.style.height=d+"px",this;else{this._height=this._domElement.style.height.toString().split("px")[0];if(this._height==="")this._height=getComputedStyle(this._domElement).height.toString().split("px")[0];return this._height}};a._percentWidth=0;a.percentWidth=function(d){if(arguments.length)return this._percentWidth=d,this._domElement.style.width=d+"%",this;else{if(this._percentWidth==="")this._percentWidth=
getComputedStyle(this._domElement).percentWidth;return this._percentWidth}};a._percentHeight=0;a.percentHeight=function(d){if(arguments.length)return this._percentHeight=d,this._domElement.style.height=d+"%",this;else{if(this._percentHeight==="")this._percentHeight=getComputedStyle(this._domElement).percentHeight;return this._percentHeight}};a.x=function(d){return arguments.length?(this._string[this._positions[0]]=d-this._ox,this.isAutoUpdate&&this.updateTransform(),this):this._string[this._positions[0]]+
this._ox};a.y=function(d){return arguments.length?(this._string[this._positions[1]]=d-this._oy,this.isAutoUpdate&&this.updateTransform(),this):this._string[this._positions[1]]+this._oy};a._pz=0;a.z=function(d){return arguments.length?(this._string[this._positions[2]]=d-this._oz,this.isAutoUpdate&&this.updateTransform(),this):this._string[this._positions[2]]+this._oz};a.move=function(d,a,b){this._string[this._positions[0]]=d-this._ox;this._string[this._positions[1]]=a-this._oy;arguments.length>=3&&
(this._string[this._positions[2]]=b-this._oz);this.isAutoUpdate&&this.updateTransform();return this};a.rotationX=function(d){return arguments.length?(this._string[this._positions[3]]=d,this.isAutoUpdate&&this.updateTransform(),this):this._string[this._positions[3]]};a.rotationY=function(d){return arguments.length?(this._string[this._positions[4]]=d,this.isAutoUpdate&&this.updateTransform(),this):this._string[this._positions[4]]};a.rotationZ=function(d){return arguments.length?(this._string[this._positions[5]]=
d,this.isAutoUpdate&&this.updateTransform(),this):this._string[this._positions[5]]};a.rotation=function(d,a,b){this._string[this._positions[3]]=d;this._string[this._positions[4]]=a;this._string[this._positions[5]]=b;this.isAutoUpdate&&this.updateTransform();return this};a.scaleX=function(d){return arguments.length?(this._string[this._positions[6]]=d,this.isAutoUpdate&&this.updateTransform(),this):this._string[this._positions[6]]};a.scaleY=function(d){return arguments.length?(this._string[this._positions[7]]=
d,this.isAutoUpdate&&this.updateTransform(),this):this._string[this._positions[7]]};a.scaleZ=function(d){return arguments.length?(this._string[this._positions[8]]=d,this.isAutoUpdate&&this.updateTransform(),this):this._string[this._positions[8]]};a.scale=function(d,a,b){switch(arguments.length){case 0:return this.isAutoUpdate&&this.updateTransform(),this._string[this._positions[6]];case 1:this._string[this._positions[6]]=d;this._string[this._positions[7]]=d;this._string[this._positions[8]]=d;this.isAutoUpdate&&
this.updateTransform();break;case 2:this._string[this._positions[6]]=d;this._string[this._positions[7]]=a;this._string[this._positions[8]]=1;this.isAutoUpdate&&this.updateTransform();break;case 3:this._string[this._positions[6]]=d,this._string[this._positions[7]]=a,this._string[this._positions[8]]=b,this.isAutoUpdate&&this.updateTransform()}return this};a.origin=function(d,a,b){if(typeof d==="string"){var e=c.getComputedStyle(this,null);console.log(e);console.log("w:"+e.getPropertyValue("width")+
" || h: "+e.height)}else arguments.length<3&&(b=0),this._string[this._positions[0]]+=this._ox-d,this._string[this._positions[1]]+=this._oy-a,this._string[this._positions[2]]+=this._oz-b,this._ox=d,this._oy=a,this._oz=b,this.isAutoUpdate&&this.updateTransform();return this};a.transformOrigin=function(a,h){return arguments.length?(this._domElement.style[volcano._browserPrefix+"TransformOrigin"]=(Number(a)?a+"px":a)+" "+(Number(h)?h+"px":h),this.isAutoUpdate&&this.updateTransform(),this):this._domElement.style[volcano._browserPrefix+
"TransformOrigin"]};a.transformString=function(a){for(var a=a.toLowerCase().split(" "),h=a.length,b=0,c=[],f=[0,0,0,0,0,0,0,0,0],g=0;b<h;b++)switch(a[b]){case "p":case "position":case "translate":g=c.push("translate3d(",this._string[this._positions[0]],"px,",this._string[this._positions[1]],"px,",this._string[this._positions[2]],"px) ");f[0]=g-6;f[1]=g-4;f[2]=g-2;break;case "rx":case "rotatex":case "rotationx":g=c.push("rotateX(",this._string[this._positions[3]],"deg) ");f[3]=g-2;break;case "ry":case "rotatey":case "rotationy":g=
c.push("rotateY(",this._string[this._positions[4]],"deg) ");f[4]=g-2;break;case "rz":case "rotatez":case "rotationz":g=c.push("rotateZ(",this._string[this._positions[5]],"deg) ");f[5]=g-2;break;case "s":case "scale":g=c.push("scale3d(",this._string[this._positions[6]],",",this._string[this._positions[7]],",",this._string[this._positions[8]],") "),f[6]=g-6,f[7]=g-4,f[8]=g-2}this._string=c;this._positions=f;this.isAutoUpdate&&this.updateTransform();return this};a.perspective=function(a){return arguments.length?
(this.isAutoUpdate&&this.updateTransform(),this._domElement.style[volcano._browserPrefix+"Perspective"]=typeof a==="string"?a:a+"px",this):this._domElement.style[volcano._browserPrefix+"Perspective"]};a.getStyle=function(a){return this._domElement.style[a]};a.setStyle=function(a,h,b){this._domElement.style[a]=h;arguments.length>2&&(this._domElement.style[volcano._browserPrefix+a]=h);return this};a._styleName="";a.styleName=function(a){return arguments.length?(this._styleName=a,this._domElement.className=
a,this):this._styleName!==""?this._styleName:this._domElement.className};a.html=function(a){return arguments.length?(this.innerHTML=a,this):this.innerHTML};a.updateTransform=function(){var a="",h=0;_.all(this._string,function(b){volcano.has3d==true?a+=b:b==="translate3d("?a+="translate(":volcano._browserPrefix=="ms"?h==4?a+="px)":h<4&&(a+=b):volcano._browserPrefix=="O"?h==4?a+="px)":h<4&&(a+=b):h==5||h==6||h==13||h==14||h==15||h==20||h==21||(a+=h==4?"px)":h==16?"scale(":b);h++;return true});this._domElement.style[volcano._transformProperty]=
a;return this};a._name="";a.name=function(a){return arguments.length?(this._name=a,this):this._name};a._id="";a.id=function(a){return arguments.length?(this._id=a,this._domElement.id=a,this):this._id};a.alpha=function(a){return arguments.length?(this._alpha=a,this._domElement.style.opacity=a,this):this._alpha};a._visible=false;a.visible=function(a){if(arguments.length){var h;this._visible=a;a===true?h="visible":h="hidden";this._domElement.style.visibility=h;return this}else return this._visible};
a.addClass=function(){for(var a=arguments,h=a.length,b=0;b<h;b++)if(!this.hasClass(a[b]))this._domElement.className=this._domElement.className?this._domElement.className+" "+a[b]:a[b];return this};a.removeClass=function(){for(var a=arguments,h=a.length,b=0;b<h;b++)if(this.hasClass(a[b]))this._domElement.className=this._domElement.className.replace(RegExp("(^|\\s+)"+a[b]+"(\\s+|$)")," ");return this};a.hasClass=function(a){return(" "+this._domElement.className+" ").replace(/[\n\t]/g," ").indexOf(" "+
a+" ")>-1};c.volcano.VObject=b})(window);(function(c){var b=function(a,b){this.initialize(a,b)},a=b.prototype=new volcano.VObject;a._domElement=null;a._elementsContent=null;a.eventCallback=null;a.parent=null;a._alpha=1;a._string=[];a._positions=[];a.isAutoUpdate=true;a._ox=0;a._oy=0;a._oz=0;a.VObject_initialize=a.initialize;a.initialize=function(a,b){this._domElement={};this._elementsContent=[];this.parent={};this.VObject_initialize(a,b)};a._checkRangeError=function(a,b){var c=this._elementsContent.length-1;b&&c++;if(a<0||a>c)throw"Elements Range Error";
};a._elementAdded=function(a,b,c){a.parent=this;var e=this._domElement,a=a._domElement,f=0;e.children.length>0&&(f=e.children[0].localName==="canvas"?1:0);e.children.length-f===b?e.appendChild(a):(console.log(this.getElementAt(b)._domElement),e.insertBefore(a,this.getElementAt(b)._domElement));c&&this.dispatchEvent("elementAdded")};a._elementRemoved=function(a,b,c){a.parent=null;this._domElement.removeChild(a._domElement);c&&this.dispatchEvent("elementRemoved")};a.getNumElements=function(){return this._elementsContent.length};
a.getElementAt=function(a){this._checkRangeError(a,false);return this._elementsContent[a]};a.addElement=function(a){var b=this.getNumElements();a.parent===this&&(b=this.getNumElements()-1);return this.addElementAt(a,b)};a.addElementAt=function(a,h){if(a===this)throw"Cannot add yourself as your Child";this._checkRangeError(h,true);var c=a.parent;if(c===this)return this.setElementIndex(a,h),a;else c instanceof b&&c.removeElement(a);this._elementsContent.splice(h,0,a);this._elementAdded(a,h);return a};
a.removeElement=function(a){return this.removeElementAt(this.getElementIndex(a))};a.removeElementAt=function(a){this._checkRangeError(a);this._elementRemoved(this._elementsContent[a],a);this._elementsContent.splice(a,1)};a.removeAllElements=function(){for(var a=this.getNumElements()-1;a>=0;a--)this.removeElementAt(a)};a.getElementIndex=function(a){return _.indexOf(this._elementsContent,a)};a.setElementIndex=function(a,b){this._checkRangeError(b);this.getElementIndex(a)!==b&&(this.removeElement(a),
this.addElementAt(a,b))};c.volcano.VSprite=b})(window);(function(c){var b=function(a){this.initialize(a)},a=b.prototype=new volcano.VSprite;a.VSprite_initialize=a.initialize;a.instance=null;a._nestLevel=0;a._body=null;a._onEnterFrameItems=null;a.initialize=function(a){this.instance={};this._body={};this._onEnterFrameItems=[];this.VSprite_initialize("#systemManager");createjs.Ticker.setFPS(this._fps);createjs.Ticker.addListener(this);this._body=_.isObject(a)?a:document.body;var b=this._body.style;this.setSize(b.width,b.height);this._body.appendChild(this._domElement);
this._domElement.style.overflow="hidden";this._domElement.style[volcano._browserPrefix+"TransformOrigin"]="0 0";volcano.has3d&&(this._domElement.style[volcano._browserPrefix+"Perspective"]="800px",this._domElement.style[volcano._browserPrefix+"PerspectiveOrigin"]="0 0",this._domElement.style[volcano._browserPrefix+"TransformStyle"]="flat");this._nestLevel=1;volcano.LayoutManager.systemManager=this;var j=this.instance=this;c.addEventListener("resize",function(){j.setSize(b.width,b.height);j.dispatchEvent("resize")})};
a.setSize=function(a,b){this.width(_.isNumber(a)?a:c.innerWidth).height(_.isNumber(b)?b:c.innerHeight);return this};a.nestLevel=function(a){if(!arguments.length)return this._nestLevel};a._fps=24;a.frameRate=function(a){return arguments.length?(this._fps=a,createjs.Ticker.setFPS(a),this):this._fps};a.VSprite__elementAdded=a._elementAdded;a._elementAdded=function(a,b,c){this.VSprite__elementAdded(a,b,c);a.nestLevel&&a.nestLevel(this.nestLevel()+1);a.getInitialized&&a.getInitialized()&&a.initComponent()};
a.enterFrameEventMode=false;a.tick=function(){var a=this._onEnterFrameItems.length;this.enterFrameEventMode&&this.dispatchEvent("enterFrame");for(var b=0;b<a;b++)if(_.isFunction(this._onEnterFrameItems[b]))this._onEnterFrameItems[b]()};a.addEnterFrameListener=function(a,b){if(_.indexOf(this._onEnterFrameItems,a)!==-1)return this;b?b=true:b=false;b?this._onEnterFrameItems.unshift(a):this._onEnterFrameItems.push(a);return this};a.removeEnterFrameListener=function(a){this._onEnterFrameItems.splice(_.indexOf(this._onEnterFrameItems,
a),1);return this};c.volcano.SystemManager=b})(window);(function(c){var b=function(){throw"LayoutManager cannot be initialized.";},a=function(){this._priorityBins=[];var a=0,b=-1;this.addObject=function(e,f){b<a?a=b=f:(f<a&&(a=f),f>b&&(b=f));var g=this._priorityBins[f];g?_.indexOf(g.items,e)!==1&&(g.items.push(e),g.length++):(g=new c,this._priorityBins[f]=g,g.items.push(e),g.length++)};this.removeLargest=function(){var c=null;if(a<=b){for(var f=this._priorityBins[b];!f||f.length===0;){b--;if(b<a)return null;f=this._priorityBins[b]}for(;0<f.items.length;){c=
f.items[0];this.removeChild(f.items[0],b);break}for(;!f||f.length===0;){b--;if(b<a)break;f=this._priorityBins[b]}}return c};this.removeLargestChild=function(a){for(var d=b,c=a.nestLevel();c<=d;){var k=this._priorityBins[d];if(k&&k.length>0){if(d===a.nestLevel())for(var j=0;j<k.items.length;j++){if(a===k.items[j])return this.removeChild(k.items[j],d),a}else for(j=0;j<k.items.length;j++)if(k.items[j]instanceof volcano.UIComponent&&a===k.items[j])return this.removeChild(k.items[j],d),k.items[j];d--}else if(d===
b&&b--,d--,d<c)break}return null};this.removeSmallest=function(){var c=null;if(a<=b){for(var f=this._priorityBins[a];!f||f.length===0;){a++;if(a>b)return null;f=this._priorityBins[a]}for(;0<f.items.length;){c=f.items[0];this.removeChild(f.items[0],a);break}for(;!f||f.length===0;){a++;if(a>b)break;f=this._priorityBins[a]}}return c};this.removeSmallestChild=function(c){for(var f=c.nestLevel();f<=b;){var g=this._priorityBins[f];if(g&&g.length>0){if(f===c.nestLevel())for(var j=0;j<g.items.length;j++)c===
g.items[j]&&this.removeChild(c,f);else for(var n in g.items)for(j=0;j<g.items.length;j++)if(g.items[j]instanceof volcano.UIComponent&&c===g.items[j])return this.removeChild(g.items[j],f),g.items[j];f++}else if(f===a&&a++,f++,f>b)break}return null};this.removeChild=function(a,b){for(var d=this._priorityBins[b>=0?b:a.nestLevel()],c=0;c<d.items.length;c++)if(d.items[c]===a)return d.items.splice(c,1),d.length--,a;return null};this.removeAll=function(){a=this._priorityBins.length=0;b=-1};this.isEmpty=
function(){return a>b};var c=function(){this.length=0;this.items=[]}};b.systemManager=null;b._updateCompleteQueue=new a;b._invalidatePropertiesQueue=new a;b._invalidatePropertiesFlag=false;b._invalidateClientPropertiesFlag=false;b._invalidateSizeQueue=new a;b._invalidateSizeFlag=false;b._invalidateClientSizeFlag=false;b._invalidateDisplayListQueue=new a;b._invalidateDisplayListFlag=false;b._waitAFrame=false;b._listenersAttached=false;b._originalFrameRate=NaN;b._targetLevel=Number.MAX_VALUE;b._currentObject=
{};b._usePhasedInstantiation=false;b.usePhasedInstantiation=function(a){if(arguments.length){if(b._usePhasedInstantiation!==a)b._usePhasedInstantiation=a}else return b._usePhasedInstantiation};b.invalidateProperties=function(a){if(!b._invalidatePropertiesFlag)b._invalidatePropertiesFlag=true,b._listenersAttached||b.attachListeners(b.systemManager);if(b._targetLevel<=a.nestLevel())b._invalidateClientPropertiesFlag=true;b._invalidatePropertiesQueue.addObject(a,a.nestLevel())};b.invalidateSize=function(a){if(!b._invalidateSizeFlag)b._invalidateSizeFlag=
true,b._listenersAttached||b.attachListeners(b.systemManager);if(b._targetLevel<=a.nestLevel())b._invalidateClientSizeFlag=true;b._invalidateSizeQueue.addObject(a,a.nestLevel())};b.invalidateDisplayList=function(a){if(!b._invalidateDisplayListFlag)b._invalidateDisplayListFlag=true,b._listenersAttached||b.attachListeners(b.systemManager);b._invalidateDisplayListQueue.addObject(a,a.nestLevel())};b._validateProperties=function(){for(var a=b._invalidatePropertiesQueue.removeSmallest();a;){if(a.nestLevel())b._currentObject=
a,a.validateProperties(),a.updateCompletePendingFlag()||(b._updateCompleteQueue.addObject(a,a.nestLevel()),a.updateCompletePendingFlag(true));a=b._invalidatePropertiesQueue.removeSmallest()}if(b._invalidatePropertiesQueue.isEmpty())b._invalidatePropertiesFlag=false};b._validateSize=function(){for(var a=b._invalidateSizeQueue.removeLargest();a;){if(a.nestLevel())b._currentObject=a,a.validateSize(),a.updateCompletePendingFlag()||(b._updateCompleteQueue.addObject(a,a.nestLevel()),a.updateCompletePendingFlag(true));
a=b._invalidateSizeQueue.removeLargest()}if(b._invalidateSizeQueue.isEmpty())b._invalidateSizeFlag=false};b._validateDisplayList=function(){for(obj=b._invalidateDisplayListQueue.removeSmallest();obj;){if(obj.nestLevel())b._currentObject=obj,obj.validateDisplayList(),obj.updateCompletePendingFlag()||(b._updateCompleteQueue.addObject(obj,obj.nestLevel()),obj.updateCompletePendingFlag(true));obj=b._invalidateDisplayListQueue.removeSmallest()}if(b._invalidateDisplayListQueue.isEmpty())b._invalidateDisplayListFlag=
false};b._doPhasedInstantiation=function(){b.usePhasedInstantiation()?b._invalidatePropertiesFlag?b._validateProperties():b._invalidateSizeFlag?b._validateSize():b._invalidateDisplayListFlag&&b._validateDisplayList():(b._invalidatePropertiesFlag&&b._validateProperties(),b._invalidateSizeFlag&&b._validateSize(),b._invalidateDisplayListFlag&&b._validateDisplayList());if(b._invalidatePropertiesFlag||b._invalidateSizeFlag||b._invalidateDisplayListFlag)b.attachListeners(b.systemManager);else{b.usePhasedInstantiation(false);
b._listenersAttached=false;for(var a=b._updateCompleteQueue.removeLargest();a;)!a.initialized()&&a.processedDescriptors()&&a.initialized(true),a.dispatchEvent("updateComplete"),a.updateCompletePendingFlag(false),a=b._updateCompleteQueue.removeLargest()}};b._doPhasedInstantiationCallback=function(){if(!(volcano.UIComponent._callLaterDispatcherCount>0)){b.systemManager.removeEnterFrameListener(b._doPhasedInstantiationCallback);if(volcano.UIComponent._catchCallLaterExceptions)try{b._doPhasedInstantiation()}catch(a){throw"callLaterError LayoutManager";
}else b._doPhasedInstantiation();b._currentObject=null}};b.validateNow=function(){if(!b.usePhasedInstantiation())for(var a=0;b._listenersAttached&&a++<100;)b._doPhasedInstantiation()};b.validateClient=function(a,c){var j=b._currentObject,e,f=false,g=b._targetLevel;if(b._targetLevel===Number.MAX_VALUE)b._targetLevel=a.nestLevel();for(;!f;){f=true;for(e=b._invalidatePropertiesQueue.removeSmallestChild(a);e;){if(e.nestLevel())b._currentObject=e,e.validateProperties(),e.updateCompletePendingFlag()||(b._updateCompleteQueue.addObject(e,
e.nestLevel()),e.updateCompletePendingFlag(true));e=b._invalidatePropertiesQueue.removeSmallestChild(a)}if(b._invalidatePropertiesQueue.isEmpty())b._invalidatePropertiesFlag=false,b._invalidateClientPropertiesFlag=false;for(e=b._invalidateSizeQueue.removeLargestChild(a);e;){if(e.nestLevel())b._currentObject=e,e.validateSize(),e.updateCompletePendingFlag()||(b._updateCompleteQueue.addObject(e,e.nestLevel()),e.updateCompletePendingFlag(true));if(b._invalidateClientPropertiesFlag&&(e=b._invalidatePropertiesQueue.removeSmallestChild(a))){b._invalidatePropertiesQueue.addObject(e,
e.nestLevel());f=false;break}e=b._invalidateSizeQueue.removeLargestChild(a)}if(b._invalidateSizeQueue.isEmpty())b._invalidateSizeFlag=false,b._invalidateClientSizeFlag=false;if(!c){for(e=b._invalidateDisplayListQueue.removeSmallestChild(a);e;){if(e.nestLevel())b._currentObject=e,e.validateDisplayList(),e.updateCompletePendingFlag()||(b._updateCompleteQueue.addObject(e,e.nestLevel()),e.updateCompletePendingFlag(true));if(b._invalidateClientPropertiesFlag&&(e=b._invalidatePropertiesQueue.removeSmallestChild(a))){b._invalidatePropertiesQueue.addObject(e,
e.nestLevel());f=false;break}if(b._invalidateClientSizeFlag&&(e=b._invalidateSizeQueue.removeLargestChild(a))){b._invalidateSizeQueue.addObject(e,e.nestLevel());f=false;break}e=b._invalidateDisplayListQueue.removeSmallestChild(a)}if(b._invalidateDisplayListQueue.isEmpty())b._invalidateDisplayListFlag=false}}if(g===Number.MAX_VALUE&&(b._targetLevel=Number.MAX_VALUE,!c))for(e=b._updateCompleteQueue.removeLargestChild(a);e;)e.initialized()||e.initialized(true),e.updateCompletePendingFlag(false),e=b._updateCompleteQueue.removeLargestChild(a);
b._currentObject=j};b._waitFrame=function(){b.systemManager.removeEnterFrameListener(b._waitFrame);b.systemManager.addEnterFrameListener(b._doPhasedInstantiationCallback);b._waitAFrame=true};b.attachListeners=function(a){b._waitAFrame?a.addEnterFrameListener(b._doPhasedInstantiationCallback):a.addEnterFrameListener(b._waitFrame);b._listenersAttached=true};c.volcano.LayoutManager=b})(window);(function(c){var b=function(){this.initialize()},a=b.prototype=new volcano.VSprite,d=function(a,b){this.method=a;this.args=b};b._callLaterDispatcherCount=0;b._catchCallLaterExceptions=false;a._methodQueue=null;a.systemManager=null;a._skin=null;a.states=null;a._deferredSetStyles=null;a._owner=null;a._updateCompletePendingFlag=false;a._processedDescriptiors=false;a._domElement=null;a.VSprite_initialize=a.initialize;a.initialize=function(a){this._methodQueue=[];this.systemManager=volcano.LayoutManager.systemManager;
this._skin={};this.states=[];this._deferredSetStyles={};this._owner={};this._domElement={};this.VSprite_initialize(a)};a.owner=function(a){return arguments.length?(this._owner=a,this):this._owner?this._owner:this.parent};a._nestLevel=0;a.nestLevel=function(a){if(arguments.length){if(a!==1){a>1&&this._nestLevel!==a?(this._nestLevel=a,this._updateCallbacks(),a++):a===0?this._nestLevel=a=0:a++;for(var b=this.getNumElements(),c=0;c<b;c++){var d=this.getElementAt(c);d&&d.nestLevel(a)}}}else return this._nestLevel};
a.processedDescriptors=function(a){if(arguments.length)this._processedDescriptors=a;else return this._processedDescriptors};a._updateCallbacks=function(){this._invalidateDisplayListFlag&&volcano.LayoutManager.invalidateDisplayList(this);this._invalidateSizeFlag&&volcano.LayoutManager.invalidateSize(this);this._invalidatePropertiesFlag&&volcano.LayoutManager.invalidateProperties(this);if(this.systemManager&&this._methodQueue.length>0&&!this._listeningForRender)this.systemManager.addEnterFrameListener(this._callLaterDispatcher),
this._listeningForRender=true};a.validateNow=function(){volcano.LayoutManager.validateClient(this)};a.setStyle=function(a,b,c){var d=false;_.isString(a)&&(this._deferredSetStyles[a]=arguments.length>2?{value:b,prefix:volcano._browserPrefix+a}:{value:b},d=true);d&&(this.invalidateProperties(),this.invalidateDisplayList());return this};a._measuredWidth=0;a.measuredWidth=function(a){return arguments.length?(this._measuredWidth=a,this):this._measuredWidth};a._measuredHeight=0;a.measuredHeight=function(a){return arguments.length?
(this._measuredHeight=a,this):this._measuredHeight};a._widthChanged=false;a._width=0;a._height=0;a._oldWidth=0;a._oldHeight=0;a.width=function(a){return arguments.length?(this._width=a,this._widthChanged=true,this.invalidateProperties(),this.invalidateDisplayList(),this):this._width};a._percentWidth=0;a._oldPercentWidth=0;a._percentWidthChanged=false;a.percentWidth=function(a){return arguments.length?(this._percentWidth=a,this._percentWidthChanged=true,this.invalidateProperties(),this.invalidateDisplayList(),
this):this._percentWidth};a._heightChanged=false;a.height=function(a){return arguments.length?(this._height=a,this._heightChanged=true,this.invalidateProperties(),this.invalidateDisplayList(),this):this._height};a._percentHeight=0;a._oldPercentHeight=0;a._percentHeightChanged=false;a.percentHeight=function(a){return arguments.length?(this._percentHeight=a,this._percentHeightChanged=true,this.invalidateProperties(),this.invalidateDisplayList(),this):this._height};a._enabled=false;a.enabled=function(a){if(arguments.length)this._enabled=
a,this.invalidateDisplayList(),this.dispatchEvent("enabledChanged");else return this._enabled};a._initialized=false;a.initialized=function(a){if(arguments.length)this._initialized=arguments[0],arguments[0]&&this.dispatchEvent("creationComplete");else return this._initialized};a.updateCompletePendingFlag=function(a){if(arguments.length)this._updateCompletePendingFlag=a;else return this._updateCompletePendingFlag};a.setActualSize=function(a,b){var c=false;if(this._width!=a)this._width=a,c=this._widthChanged=
true,this.dispatchEvent("widthChanged");if(this._height!=b)this._height=b,c=this._heightChanged=true,this.dispatchEvent("heightChanged");c&&(this.invalidateProperties(),this.invalidateDisplayList())};a._ox=0;a._oy=0;a._oz=0;a._x=0;a._y=0;a._z=0;a._oldX=0;a._oldY=0;a._oldZ=0;a.x=function(a){if(arguments.length){if(this._x!=a)this._x=a,this.invalidateProperties(),this.invalidateDisplayList();return this}else return this._string[this._positions[0]]+this._ox};a.y=function(a){if(arguments.length){if(this._y!=
a)this._y=a,this.invalidateProperties(),this.invalidateDisplayList();return this}else return this._string[this._positions[1]]+this._oy};a.z=function(a){if(arguments.length){if(this._z!=a)this._z=a,this.invalidateProperties(),this.invalidateDisplayList();return this}else return this._string[this._positions[2]]+this._oz};a.move=function(a,b,c){var d=false;if(this._x!=a)this._x=a,d=true;if(this._y!=b)this._y=b,d=true;if(arguments.length>=3&&this._z!=c)this._z=c,d=true;d&&(this.invalidateProperties(),
this.invalidateDisplayList())};a._rotationX=0;a._rotationY=0;a._rotationZ=0;a._oldRotationX=0;a._oldRotationY=0;a._oldRotationZ=0;a.rotationX=function(a){if(arguments.length){if(a!=this._rotationX)this._rotationX=a,this.invalidateProperties(),this.invalidateDisplayList();return this}else return this._string[this._positions[3]]};a.rotationY=function(a){if(arguments.length){if(a!=this._rotationY)this._rotationY=a,this.invalidateProperties(),this.invalidateDisplayList();return this}else return this._string[this._positions[4]]};
a.rotationZ=function(a){if(arguments.length){if(a!=this._rotationZ)this._rotationZ=a,this.invalidateProperties(),this.invalidateDisplayList();return this}else return this._string[this._positions[5]]};a.rotation=function(a,b,c){var d=false;if(a!=this._rotationX)this._rotationX=a,d=true;if(b!=this._rotationY)this._rotationY=b,d=true;if(c!=this._rotationZ)this._rotationZ=c,d=true;d&&(this.invalidateProperties(),this.invalidateDisplayList());return this};a._scaleX=1;a._scaleY=1;a._scaleZ=1;a._oldScaleX=
1;a._oldScaleY=1;a._oldScaleZ=1;a.scaleX=function(a){if(arguments.length){if(this._scaleX!=a)this._scaleX=a,this.invalidateProperties(),this.invalidateDisplayList();return this}else return this._string[this._positions[6]]};a.scaleY=function(a){if(arguments.length){if(this._scaleY!=a)this._scaleY=a,this.invalidateProperties(),this.invalidateDisplayList();return this}else return this._string[this._positions[7]]};a.scaleZ=function(a){if(arguments.length){if(this._scaleZ!=a)this._scaleZ=a,this.invalidateProperties(),
this.invalidateDisplayList();return this}else return this._string[this._positions[8]]};a.scale=function(a,b,c){switch(arguments.length){case 0:return this.isAutoUpdate&&this.updateTransform(),this._string[this._positions[6]];case 1:this._scaleZ=this._scaleY=this._scaleX=a;this.invalidateProperties();this.invalidateDisplayList();break;case 2:this._scaleX=a;this._scaleY=b;this._scaleZ=1;this.invalidateProperties();this.invalidateDisplayList();break;case 3:this._scaleX=a,this._scaleY=b,this._scaleZ=
c,this.invalidateProperties(),this.invalidateDisplayList()}return this};a._invalidatePropertiesFlag=false;a._invalidateSizeFlag=false;a._invalidateDisplayListFlag=false;a.invalidateProperties=function(){if(!this._invalidatePropertiesFlag)this._invalidatePropertiesFlag=true,volcano.LayoutManager.invalidateProperties(this)};a.invalidateSize=function(){if(!this._invalidateSizeFlag)this._invalidateSizeFlag=true,volcano.LayoutManager.invalidateSize(this)};a.invalidateDisplayList=function(){if(!this._invalidateDisplayListFlag)this._invalidateDisplayListFlag=
true,volcano.LayoutManager.invalidateDisplayList(this)};a.validateProperties=function(){if(this._invalidatePropertiesFlag)this.commitProperties(),this._invalidatePropertiesFlag=false};a.validateSize=function(a){if(a===true)for(a=0;a<this.getNumElements;a++)this.getElementAt(a).validateSize(true);this._invalidateSizeFlag&&this.measure()};a.validateDisplayList=function(){if(this._invalidateDisplayListFlag)this.updateDisplayList(this.measuredWidth(),this.measuredHeight()),this._invalidateDisplayListFlag=
false};a._listeningForRender=false;a._callLaterDispatcher=function(){b._callLaterDispatcherCount++;if(this._listeningForRender)this.systemManager.removeEnterFrameListener(this._callLaterDispatcher),this._listeningForRender=false;var a=this._methodQueue;this._methodQueue=[];var c=a.length;if(c>0)for(var d=0;d<c;d++){var f=a[d];f.method.apply(null,f.args)}b._callLaterDispatcherCount--};a.callLater=function(a,b){this._methodQueue.push(new d(a,b));if(!this._listeningForRender)this.systemManager.addEnterFrameListener(this._callLaterDispatcher),
this._listeningForRender=true};a.VSprite__elementAdded=a._elementAdded;a._elementAdded=function(a,b,c){this.VSprite__elementAdded(a,b,c);a.parentChanged(this);a.nestLevel(this.nestLevel()+1);a.initialized()||a.initComponent()};a.VSprite__elementRemoved=a._elementRemoved;a._elementRemoved=function(a,b,c){a.parentChanged(null);this.VSprite__elementRemoved(a,b,c)};a.parentChanged=function(a){a?this.parent=a.name==="systemManager"?a:a.parent:(this.parent=null,this.nestLevel(0))};a.initComponent=function(){this.initialized()||
(this.dispatchEvent("preinitialize"),this.createChildren(),this.childrenCreated(),this.initializationComplete())};a.getLayoutBoundsX=function(){};a.getLayoutBoundsY=function(){};a.createChildren=function(){};a.childrenCreated=function(){this.invalidateProperties();this.invalidateSize();this.invalidateDisplayList()};a.commitProperties=function(){var a=false;if(this._x!=this._oldx||this._y!=this._oldy||this._z!=this._oldz)this._oldx=this._x,this._oldy=this._y,this._oldz=this._z,this._string[this._positions[0]]=
this._x-this._ox,this._string[this._positions[1]]=this._y-this._oy,this._string[this._positions[2]]=this._z-this._oz,a=true;if(this._rotationX!=this._oldRotationX||this._rotationY!=this._oldRotationY||this._rotationZ!=this._oldRotationZ)this._oldRotationX=this._rotationX,this._oldRotationY=this._rotationY,this._oldRotationZ=this._rotationZ,this._string[this._positions[3]]=this._rotationX,this._string[this._positions[4]]=this._rotationY,this._string[this._positions[5]]=this._rotationZ,a=true;if(this._scaleX!=
this._oldScaleX||this._scaleY!=this._oldScaleY||this._scaleZ!=this._oldScaleZ)this._oldScaleX=this._scaleX,this._oldScaleY=this._scaleY,this._oldScaleZ=this._scaleZ,this._string[this._positions[6]]=this._scaleX,this._string[this._positions[7]]=this._scaleY,this._string[this._positions[8]]=this._scaleZ,a=true;a&&this.updateTransform();a=false;if(this._width!=this._oldWidth)this._oldWidth=this._width,this._domElement.style.width=this._width+"px",a=true;if(this._percentWidth!=this._oldPercentWidth&&
!a)this._oldPercentWidth=this._percentWidth,this._domElement.style.width=this._percentWidth+"%";a=false;if(this._height!=this._oldHeight)this._oldHeight=this._height,this._domElement.style.height=this._height+"px",a=true;if(this._percentHeight!=this._oldPercentHeight&&!a)this._oldPercentHeight=this._percentHeight,this._domElement.style.height=this._percentHeight+"%"};a.measure=function(){};a.updateDisplayList=function(){};a.initializationComplete=function(){this.dispatchEvent("initialize");this.processedDescriptors(true)};
c.volcano.UIComponent=b})(window);(function(c){var b=function(){this.initialize()},a=b.prototype=new volcano.UIComponent;a.UIComponent_initialize=a.initialize;a.initialize=function(){this.UIComponent_initialize()};a.createChildren=function(){this._validateSkinChange()};a._skinStateIsDirty=false;a.invalidateSkinState=function(){if(!this._skinStateIsDirty)this._skinStateIsDirty=true,this.invalidateProperties()};a.getSkinParts=function(){return null};a.attachSkin=function(){if(!this._skin){var a=this.getStyle("skinClass");a&&this.setSkin(new this[a]);
this._skin&&(this._skin.setOwner(this),this._skin.setStyleName(this),this.addElement(this._skin));this.findSkinParts();this.invalidateSkinState()}};a.clearSkinParts=function(){var a=this.getSkinParts();if(a)for(var b in a)this[b]!==null&&this.partRemoved(b,this[b])};a.detachSkin=function(){this._skin.setStyleName(null);this.clearSkinParts();this.removeElement(this._skin);this.setSkin(null)};a.findSkinParts=function(){var a=this.getSkinParts();if(a)for(var b in a){if(a[b]==true&&!(b in this._skin))throw"Required Skin Part Not Found";
b in this._skin&&(this[b]=this._skin[b],this[b]!==null&&this.partAdded(b,this[b]))}};a.getCurrentSkinState=function(){return null};a.partAdded=function(){};a.partRemoved=function(){};a._validateSkinChange=function(){this._skin&&this.detachSkin();this.attachSkin()};c.volcano.SkinnableComponent=b})(window);(function(){var c=function(){this.initialize()},b=c.prototype=new volcano.UIComponent;b._applicationDPI=160;b.measuredDefaultHeight=0;b.measuredDefaultWidth=0;b.UIComponent_initialize=b.initialize;b.initialize=function(){this.UIComponent_initialize()};b._currentState="";b.getCurrentState=function(){return this._currentState};b.setCurrentState=function(a){if(a!==this._currentState)this._currentState=a,this.commitCurrentState()};b.beginHighlightBitmapCapture=function(){};b.endHighlightBitmapCapture=
function(){};b.hasState=function(){return true};b.applyColorTransform=function(){};b.getElementPreferredHeight=function(a){return a instanceof volcano.LayoutBase?a.getPreffrredBoundsWidth():a instanceof volcano.UIComponent?a.getMeasuredWidth():a.getWidth()};b.getElementPreferredWidth=function(a){return a instanceof volcano.LayoutBase?a.getPreffrredBoundsHeight():a instanceof volcano.UIComponent?a.getMeasuredHeight():a.getHeight()};b.setElementPosition=function(a,b,c){a instanceof volcano.LayoutBase?
a.setLayoutBoundPosition(b,c,false):a instanceof volcano.UIComponent?a.move(b,c):(a.setX(b),a.setY(c))};b.setElementSize=function(a,b,c){a instanceof volcano.LayoutBase?a.setLayoutBoundSize(b,c,false):a instanceof volcano.UIComponent?a.setActualSize(b,c):(a.setWidth(b),a.setHeight(c))};b.UIComponent_getMeasuredWidth=b.getMeasuredWidth;b.UIComponent_getMeasuredHeight=b.getMeasuredHeight;b.getMeasuredWidth=function(){return Math.max(this.UIComponent_getMeasuredWidth(),this.measuredDefaultWidth)};b.getMeasuredHeight=
function(){return Math.max(this.UIComponent_getMeasuredHeight(),this.measuredDefaultHeight)};b.useSymbolColor=false;b.UIComponent_updateDisplayList=b.updateDisplayList;b.updateDisplayList=function(a,b){this.UIComponent_updateDisplayList(a,b);this.layoutContents(a,b);this.useSymbolColor&&this.applySymbolColor();useMinimumHitArea&&this.drawMinimumHitArea(a,b);this.drawBackground(a,b)};b.commitCurrentState=function(){};b.layoutContents=function(){};b.drawBackground=function(){};this.window.volcano.SkinBase=
c})(window);(function(c){var b=function(){throw"ColorUtil cannot be initialized.";};b.getRandomColor=function(){for(var a="0123456789ABCDEF".split(""),b="#",c=0;c<6;c++)b+=a[Math.round(Math.random()*15)];return b};c.volcano.ColorUtil=b})(window);(function(){var c=function(){this.initialize()},b=c.prototype=new volcano.VObject;b.VObject_initialize=b.initialize;b.initialize=function(){this.VObject_initialize(document.createElement("img"));_.bindAll(this,"errHandler")};b.errHandler=function(){this.errorImg();this.errorImg();if(this.errorImg()!==""&&this.errorImg()!==this._source)this._domElement.src=this.errorImg()};b._source="";b.source=function(a){this._domElement.src=a;this._domElement.onerror=this.errHandler;this._source=a;return this};
b._errorImg="";c.DEFAULT_ERR_IMGAGE="";b.errorImg=function(a){return arguments.length?(this._errorImg=a,this):this._errorImg===""?c.DEFAULT_ERR_IMGAGE:this._errorImg};this.window.volcano.Image=c})(window);(function(c){function b(){if(o)p.scrollMode==="auto"?n.move(s,t,0):p.scrollMode==="vertical"?n.move(0,t,0):p.scrollMode==="horizontal"&&n.move(s,0,0);else if(!q){var a=n.x(),b=n.y();if(Math.abs(r)>0||Math.abs(v)>0)r=Math.abs(r)<0.9?0:r*E,v=Math.abs(v)<0.9?0:v*E;if(a>0||a<g){var c=a>0?0:g;r===0||A?(r=(c-a)*z,A=true):r*=l}if(b>0||b<k)c=b>0?0:k,v===0||w?(v=(c-b)*z,w=true):v*=l;var d,e;if(Math.abs(r)>0.01||Math.abs(v)>0.01){if(p.scrollMode==="auto"){d=a>0&&a<1?0:a>g-1&&a<g?g:a+r;e=b>0&&b<1?0:b>k-1&&b<
k?k:b+v;if(a>0&&a<1||a>g-1&&a<g)A=false;if(b>0&&b<1||b>k-1&&b<k)w=false}else if(p.scrollMode==="vertical"){if(d=0,e=b>0&&b<1?0:b>k-1&&b<k?k:b+v,b>0&&b<1||b>k-1&&b<k)w=false}else if(p.scrollMode==="horizontal"){d=a>0&&a<1?0:a>g-1&&a<g?g:a+r;if(a>0&&a<1||a>g-1&&a<g)A=false;e=0}n.move(d,e,0)}}}function a(a){var b=volcano.hasTouch?a.touches[0]:a;a.preventDefault();g=u.width()-n.width();k=u.height()-n.height();f.addEventListener(volcano.e.MOUSE_MOVE,d);f.addEventListener(volcano.e.MOUSE_UP,h);f.addEventListener(volcano.e.CANCEL,
h);o=false;q=true;C=b.pageX-n.x();D=b.pageY-n.y();y=true}function d(a){var b=volcano.hasTouch?a.touches[0]:a;a.preventDefault();o=true;q=false;a=b.pageY;s=b.pageX-C;t=a-D;y&&(x=s,B=t,y=false);r=s-x;v=t-B;x=s;B=t}function h(){q=o=false;f.removeEventListener(volcano.e.MOUSE_MOVE,d);f.removeEventListener(volcano.e.MOUSE_UP,h);f.removeEventListener(volcano.e.CANCEL,h)}var j=function(a,b,c){this.initialize(a,b,c)},e=j.prototype=new volcano.VObject;e._domElement=null;e._scroller=null;var f,g,k,n,o=false,
q=false,l=0.7,z=0.1,A=false,w=false,C=0,D=0,s=0,t=0,r=0,v=0,x=0,B=0,E=0.9,p,u;e.VObject_initialize=e.initialize;e.initialize=function(c,d,e){this._domElement={};this._scroller={};p={scrollMode:"auto"};u=c.parent;for(i in e)p[i]=e[i];u.setStyle("overflow","hidden");n=c;f=d;this._domElement=c._domElement;this._domElement.volcanoObj=this;this._scroller=this._domElement.children[0];g=u.width()-n.width();k=u.height()-n.height();f.addEventListener(volcano.e.MOUSE_DOWN,a);f.addEnterFrameListener(b)};var y=
false;c.volcano.Scroller=j})(window);
