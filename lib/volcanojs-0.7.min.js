/*
* VolcanoJS
* Visit http://volcanojs.com/ for documentation, updates and examples.
*
* Copyright (c) 2012 gstech.co.kr, inc.
* 
* Distributed under the terms of the MIT license.
* http://www.opensource.org/licenses/mit-license.html
*
* This notice shall be included in all copies or substantial portions of the Software.
*/
this.createjs=this.createjs||{};
(function(){var c=function(){throw"Ticker cannot be instantiated.";};c.useRAF=null;c._listeners=null;c._pauseable=null;c._paused=false;c._inited=false;c._startTime=0;c._pausedTime=0;c._ticks=0;c._pausedTicks=0;c._interval=50;c._lastTime=0;c._times=null;c._tickTimes=null;c._rafActive=false;c._timeoutID=null;c.addListener=function(a,f){a!=null&&(c._inited||c.init(),c.removeListener(a),c._pauseable[c._listeners.length]=f==null?true:f,c._listeners.push(a))};c.init=function(){c._inited=true;c._times=[];
c._tickTimes=[];c._pauseable=[];c._listeners=[];c._times.push(c._lastTime=c._startTime=c._getTime());c.setInterval(c._interval)};c.removeListener=function(a){var f=c._listeners;f&&(a=f.indexOf(a),a!=-1&&(f.splice(a,1),c._pauseable.splice(a,1)))};c.removeAllListeners=function(){c._listeners=[];c._pauseable=[]};c.setInterval=function(a){c._interval=a;c._inited&&c._setupTick()};c.getInterval=function(){return c._interval};c.setFPS=function(a){c.setInterval(1E3/a)};c.getFPS=function(){return 1E3/c._interval};
c.getMeasuredFPS=function(a){if(c._times.length<2)return-1;a==null&&(a=c.getFPS()|0);a=Math.min(c._times.length-1,a);return 1E3/((c._times[0]-c._times[a])/a)};c.setPaused=function(a){c._paused=a};c.getPaused=function(){return c._paused};c.getTime=function(a){return c._getTime()-c._startTime-(a?c._pausedTime:0)};c.getTicks=function(a){return c._ticks-(a?c._pausedTicks:0)};c._handleAF=function(){c._rafActive=false;c._setupTick();c._getTime()-c._lastTime>=(c._interval-1)*0.97&&c._tick()};c._handleTimeout=
function(){c.timeoutID=null;c._setupTick();c._tick()};c._setupTick=function(){if(!(c._rafActive||c.timeoutID!=null)){if(c.useRAF){var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(a){a(c._handleAF);c._rafActive=true;return}}c.timeoutID=setTimeout(c._handleTimeout,c._interval)}};c._tick=function(){var a=c._getTime();c._ticks++;var f=a-c._lastTime,d=c._paused;d&&(c._pausedTicks++,
c._pausedTime+=f);c._lastTime=a;for(var b=c._pauseable,e=c._listeners.slice(),g=e?e.length:0,j=0;j<g;j++){var i=e[j];i==null||d&&b[j]||(i.tick?i.tick(f,d):i instanceof Function&&i(f,d))}for(c._tickTimes.unshift(c._getTime()-a);c._tickTimes.length>100;)c._tickTimes.pop();for(c._times.unshift(a);c._times.length>100;)c._times.pop()};var b=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);c._getTime=function(){return b&&b.call(performance)||
(new Date).getTime()};createjs.Ticker=c})();var Stats=function(){function c(a,f,d){var b,c,e;for(c=0;c<30;c++)for(b=0;b<73;b++)e=(b+c*74)*4,a[e]=a[e+4],a[e+1]=a[e+5],a[e+2]=a[e+6];for(c=0;c<30;c++)e=(73+c*74)*4,c<f?(a[e]=m[d].bg.r,a[e+1]=m[d].bg.g,a[e+2]=m[d].bg.b):(a[e]=m[d].fg.r,a[e+1]=m[d].fg.g,a[e+2]=m[d].fg.b)}var b=0,a=2,f,d=0,k=(new Date).getTime(),e=k,g=k,j=0,i=1E3,y=0,n,p,l,Q,v,z=0,s=1E3,A=0,t,B,H,L,r=0,I=1E3,q=0,u,o,F,P,m={fps:{bg:{r:16,g:16,b:48},fg:{r:0,g:255,b:255}},ms:{bg:{r:16,g:48,b:16},fg:{r:0,g:255,b:0}},mem:{bg:{r:48,g:16,
b:26},fg:{r:255,g:0,b:128}}};f=document.createElement("div");f.style.cursor="pointer";f.style.width="80px";f.style.opacity="0.9";f.style.zIndex="10001";f.addEventListener("click",function(){b++;b==a&&(b=0);n.style.display="none";t.style.display="none";u.style.display="none";switch(b){case 0:n.style.display="block";break;case 1:t.style.display="block";break;case 2:u.style.display="block"}},false);n=document.createElement("div");n.style.backgroundColor="rgb("+Math.floor(m.fps.bg.r/2)+","+Math.floor(m.fps.bg.g/
2)+","+Math.floor(m.fps.bg.b/2)+")";n.style.padding="2px 0px 3px 0px";f.appendChild(n);p=document.createElement("div");p.style.fontFamily="Helvetica, Arial, sans-serif";p.style.textAlign="left";p.style.fontSize="9px";p.style.color="rgb("+m.fps.fg.r+","+m.fps.fg.g+","+m.fps.fg.b+")";p.style.margin="0px 0px 1px 3px";p.innerHTML='<span style="font-weight:bold">FPS</span>';n.appendChild(p);l=document.createElement("canvas");l.width=74;l.height=30;l.style.display="block";l.style.marginLeft="3px";n.appendChild(l);
Q=l.getContext("2d");Q.fillStyle="rgb("+m.fps.bg.r+","+m.fps.bg.g+","+m.fps.bg.b+")";Q.fillRect(0,0,l.width,l.height);v=Q.getImageData(0,0,l.width,l.height);t=document.createElement("div");t.style.backgroundColor="rgb("+Math.floor(m.ms.bg.r/2)+","+Math.floor(m.ms.bg.g/2)+","+Math.floor(m.ms.bg.b/2)+")";t.style.padding="2px 0px 3px 0px";t.style.display="none";f.appendChild(t);B=document.createElement("div");B.style.fontFamily="Helvetica, Arial, sans-serif";B.style.textAlign="left";B.style.fontSize=
"9px";B.style.color="rgb("+m.ms.fg.r+","+m.ms.fg.g+","+m.ms.fg.b+")";B.style.margin="0px 0px 1px 3px";B.innerHTML='<span style="font-weight:bold">MS</span>';t.appendChild(B);l=document.createElement("canvas");l.width=74;l.height=30;l.style.display="block";l.style.marginLeft="3px";t.appendChild(l);H=l.getContext("2d");H.fillStyle="rgb("+m.ms.bg.r+","+m.ms.bg.g+","+m.ms.bg.b+")";H.fillRect(0,0,l.width,l.height);L=H.getImageData(0,0,l.width,l.height);try{webkitPerformance&&webkitPerformance.memory.totalJSHeapSize&&
(a=3)}catch(fa){}u=document.createElement("div");u.style.backgroundColor="rgb("+Math.floor(m.mem.bg.r/2)+","+Math.floor(m.mem.bg.g/2)+","+Math.floor(m.mem.bg.b/2)+")";u.style.padding="2px 0px 3px 0px";u.style.display="none";f.appendChild(u);o=document.createElement("div");o.style.fontFamily="Helvetica, Arial, sans-serif";o.style.textAlign="left";o.style.fontSize="9px";o.style.color="rgb("+m.mem.fg.r+","+m.mem.fg.g+","+m.mem.fg.b+")";o.style.margin="0px 0px 1px 3px";o.innerHTML='<span style="font-weight:bold">MEM</span>';
u.appendChild(o);l=document.createElement("canvas");l.width=74;l.height=30;l.style.display="block";l.style.marginLeft="3px";u.appendChild(l);F=l.getContext("2d");F.fillStyle="#301010";F.fillRect(0,0,l.width,l.height);P=F.getImageData(0,0,l.width,l.height);return{domElement:f,update:function(){d++;k=(new Date).getTime();z=k-e;s=Math.min(s,z);A=Math.max(A,z);c(L.data,Math.min(30,30-z/200*30),"ms");B.innerHTML='<span style="font-weight:bold">'+z+" MS</span> ("+s+"-"+A+")";H.putImageData(L,0,0);e=k;if(k>
g+1E3){j=Math.round(d*1E3/(k-g));i=Math.min(i,j);y=Math.max(y,j);c(v.data,Math.min(30,30-j/100*30),"fps");p.innerHTML='<span style="font-weight:bold">'+j+" FPS</span> ("+i+"-"+y+")";Q.putImageData(v,0,0);if(a==3)r=webkitPerformance.memory.usedJSHeapSize*9.54E-7,I=Math.min(I,r),q=Math.max(q,r),c(P.data,Math.min(30,30-r/2),"mem"),o.innerHTML='<span style="font-weight:bold">'+Math.round(r)+" MEM</span> ("+Math.round(I)+"-"+Math.round(q)+")",F.putImageData(P,0,0);g=k;d=0}}}};(function(c){var b=c.volcano,a,f=c._;!f&&typeof require!=="undefined"&&(f=require("underscore"),require("backbone"));if(typeof Backbone!=="undefined"&&Backbone)c.volcano=a=Backbone,a.BackboneVersion=a.VERSION;else throw Error("volcanojs needs backbonejs library. \n you must include backbonejs before volcanojs");a.VERSION="0.1";a.noConflict=function(){c.volcano=b;return this};f=navigator.userAgent.toLocaleLowerCase();a.isMobile={android:f.match(/android/i)?true:false,blackberry:f.match(/blackberry/i)?
true:false,iphone:f.match(/iphone|ipod/i)?true:false,ipad:f.match(/ipad/i)?true:false,windows:f.match(/iemobile/i)?true:false};a.isMobile.any=a.isMobile.android||a.isMobile.blackberry||a.isMobile.iphone||a.isMobile.ipad||a.isMobile.windows;a.hasTouch="ontouchstart"in c?true:false;a.has3d="WebKitCSSMatrix"in c&&"m11"in new WebKitCSSMatrix;a.e={CLICK:a.hasTouch?"touchend":"click",MOUSE_DOWN:a.hasTouch?"touchstart":"mousedown",MOUSE_MOVE:a.hasTouch?"touchmove":"mousemove",MOUSE_UP:a.hasTouch?"touchend":
"mouseup",CANCEL:a.hasTouch?"touchcancel":"mouseup"};a.isHtml5={query:document.querySelectorAll?true:false,canvas:c.HTMLCanvasElement?true:false,audio:c.HTMLAudioElement&&c.Audio?true:false,video:c.HTMLVideoElement&&c.Video?true:false,storage:c.localStorage&&c.localStorage.setItem?true:false,orientation:"onorientationchange"in c?true:false,hashchange:"onhashchange"in c?true:false};a._browserPrefix="webkit";a._transformProperty="webkitTransform";a.isCss3DocumentDIV=document.createElement("div");a.isCss3=
{isTransform:function(){var f=["","webkit","Moz","O","ms"],b=f.length,c;for(c=0;c<b;c++)if(f[c]+"Transform"in a.isCss3DocumentDIV.style)return a._transformProperty=f[c]+"Transform",a._browserPrefix=f[c],true;return false}(),isTransition:void 0}})(window);(function(c){var b=function(){this.initialize()},a=volcano.Model.prototype,f=volcano.Collection.prototype,d=volcano.View.prototype,k=volcano.Router.prototype,e=c.volcano.Events;a.addEventListener=a.on;a.removeEventListener=a.off;a.dispatchEvent=a.trigger;f.addEventListener=f.on;f.removeEventListener=f.off;f.dispatchEvent=f.trigger;d.addEventListener=d.on;d.removeEventListener=d.off;d.dispatchEvent=d.trigger;k.addEventListener=k.on;k.removeEventListener=k.off;k.dispatchEvent=k.trigger;a=b.prototype;
a.initialize=function(){};a.addEventListener=a.on=a.bind=e.on;a.removeEventListener=a.off=a.unbind=e.off;a.dispatchEvent=a.trigger=e.trigger;c.volcano.EventDispatcher=b})(window);(function(c){var b=function(a,d){this.initialize(a,d)};b._eventSplitter=/\s+/;b.randomColorMode=false;var a=b.prototype;a._domElement=null;a._elementsContent=null;a.eventCallback=null;a.parent=null;a._alpha=1;a._string=[];a._positions=[];a.isAutoUpdate=true;a._ox=0;a._oy=0;a._oz=0;a._option={};a.initialize=function(a,d){var c;this._domElement={};d!==void 0?this._option=d:this._option.defaultValue="on";var e=this;c=function(a,f,d){var c=document.createElement("div");c.style.width=a+"px";c.style.height=
f+"px";c.style.margin="0px";c.style.padding="0px";if(d!=void 0)c.style.backgroundColor=d;if(b.randomColorMode)c.style.backgroundColor=volcano.ColorUtil.getRandomColor();if(e._option.defaultValue==="on")c.style.position="absolute";return c};if(arguments.length===0||_.isUndefined(a))a=c(this._width,this._height);else if(typeof a==="string"){var g=a,a=c(this._width,this._height);switch(g[0]){case ".":a.className=g.substr(1);break;case "#":a.id=g.substr(1);break;default:a.id=g}}else if(a.val&&a.attr){if(a.length>
1)throw Error("You are using multi selected jQuery/Zepto Object \n You MUST select only one DOM Object \n If you want to use multi selected jQuery/Zepto Object, you should use alternative class that is VobjectArray");a=a.get(0)}else if(this._option.defaultValue!=="off")a.style.position=a.style.position=="static"?"relative":"absolute";this._option.defaultValue==="on"&&volcano.has3d&&(a.style[volcano._browserPrefix+"TransformStyle"]="preserve-3d",a.style[volcano._transformProperty]="translateZ(0px)");
this._string=["translate3d(",0,"px,",0,"px,",0,"px) ","rotateX(",0,"deg) ","rotateY(",0,"deg) ","rotateZ(",0,"deg) ","scale3d(",1,", ",1,", ",1,") "];this._positions=[1,3,5,8,11,14,17,19,21];this._oz=this._oy=this._ox=0;this._domElement=a;this._domElement.volcanoObj=this};a.addEventListener=function(a,d){var c,e,g,j,i,y,n,p;if(!a&&!d)return this;a=a.split(b._eventSplitter);c=this._callbacks||(this._callbacks={});for(y=function(a){if(a){if(!n||p!=a.target)n=p=a.target;if(!n.volcanoObj){n=n.parentNode;
y.call(this,a);return}a.vCurrentTarget=this.volcanoObj;a.vTarget=n.volcanoObj}d(a)};e=a.shift();)g=(i=c[e])?i.tail:{},g.next=j={},g.callback=y,c[e]={tail:j,next:i?i.next:g},this._domElement.addEventListener(e,y);return this};a.removeEventListener=function(a,d){var c,e,g,j,i;if(e=this._callbacks){if(!a&&!d)return this;for(a=a.split(b._eventSplitter);c=a.shift();)if(g=e[c],delete e[c],g&&d)for(j=g.tail;(g=g.next)!==j;)i=g.callback,this._domElement.removeEventListener(c,i);return this}};a.dispatchEvent=
function(a,d){var c,e;if(_.isString(a))for(a=a.split(b._eventSplitter);c=a.shift();)d?d=true:d=false,e=document.createEvent("CustomEvent"),e.initCustomEvent(c,d,false,{}),this._domElement.dispatchEvent(e);else _.isObject(a)&&this._domElement.dispatchEvent(a);return this};a._width=0;a.width=function(a){if(arguments.length)return this._width=a,this._domElement.style.width=a+"px",this;else{this._width=this._domElement.style.width.toString().split("px")[0];if(this._width==="")this._width=getComputedStyle(this._domElement).width.toString().split("px")[0];
return this._width}};a._height=0;a.height=function(a){if(arguments.length)return this._height=a,this._domElement.style.height=a+"px",this;else{this._height=this._domElement.style.height.toString().split("px")[0];if(this._height==="")this._height=getComputedStyle(this._domElement).height.toString().split("px")[0];return this._height}};a._percentWidth=0;a.percentWidth=function(a){if(arguments.length)return this._percentWidth=a,this._domElement.style.width=a+"%",this;else{if(this._percentWidth==="")this._percentWidth=
getComputedStyle(this._domElement).percentWidth;return this._percentWidth}};a._percentHeight=0;a.percentHeight=function(a){if(arguments.length)return this._percentHeight=a,this._domElement.style.height=a+"%",this;else{if(this._percentHeight==="")this._percentHeight=getComputedStyle(this._domElement).percentHeight;return this._percentHeight}};a.x=function(a){return arguments.length?(this._string[this._positions[0]]=a-this._ox,this.isAutoUpdate&&this.updateTransform(),this):this._string[this._positions[0]]+
this._ox};a.y=function(a){return arguments.length?(this._string[this._positions[1]]=a-this._oy,this.isAutoUpdate&&this.updateTransform(),this):this._string[this._positions[1]]+this._oy};a._pz=0;a.z=function(a){return arguments.length?(this._string[this._positions[2]]=a-this._oz,this.isAutoUpdate&&this.updateTransform(),this):this._string[this._positions[2]]+this._oz};a.move=function(a,d,b){this._string[this._positions[0]]=a-this._ox;this._string[this._positions[1]]=d-this._oy;arguments.length>=3&&
(this._string[this._positions[2]]=b-this._oz);this.isAutoUpdate&&this.updateTransform();return this};a.rotationX=function(a){return arguments.length?(this._string[this._positions[3]]=a,this.isAutoUpdate&&this.updateTransform(),this):this._string[this._positions[3]]};a.rotationY=function(a){return arguments.length?(this._string[this._positions[4]]=a,this.isAutoUpdate&&this.updateTransform(),this):this._string[this._positions[4]]};a.rotationZ=function(a){return arguments.length?(this._string[this._positions[5]]=
a,this.isAutoUpdate&&this.updateTransform(),this):this._string[this._positions[5]]};a.rotation=function(a,d,b){this._string[this._positions[3]]=a;this._string[this._positions[4]]=d;this._string[this._positions[5]]=b;this.isAutoUpdate&&this.updateTransform();return this};a.scaleX=function(a){return arguments.length?(this._string[this._positions[6]]=a,this.isAutoUpdate&&this.updateTransform(),this):this._string[this._positions[6]]};a.scaleY=function(a){return arguments.length?(this._string[this._positions[7]]=
a,this.isAutoUpdate&&this.updateTransform(),this):this._string[this._positions[7]]};a.scaleZ=function(a){return arguments.length?(this._string[this._positions[8]]=a,this.isAutoUpdate&&this.updateTransform(),this):this._string[this._positions[8]]};a.scale=function(a,d,b){switch(arguments.length){case 0:return this.isAutoUpdate&&this.updateTransform(),this._string[this._positions[6]];case 1:this._string[this._positions[6]]=a;this._string[this._positions[7]]=a;this._string[this._positions[8]]=a;this.isAutoUpdate&&
this.updateTransform();break;case 2:this._string[this._positions[6]]=a;this._string[this._positions[7]]=d;this._string[this._positions[8]]=1;this.isAutoUpdate&&this.updateTransform();break;case 3:this._string[this._positions[6]]=a,this._string[this._positions[7]]=d,this._string[this._positions[8]]=b,this.isAutoUpdate&&this.updateTransform()}return this};a.origin=function(a,d,b){if(typeof a==="string"){var e=c.getComputedStyle(this,null);console.log(e);console.log("w:"+e.getPropertyValue("width")+
" || h: "+e.height)}else arguments.length<3&&(b=0),this._string[this._positions[0]]+=this._ox-a,this._string[this._positions[1]]+=this._oy-d,this._string[this._positions[2]]+=this._oz-b,this._ox=a,this._oy=d,this._oz=b,this.isAutoUpdate&&this.updateTransform();return this};a.transformOrigin=function(a,d){return arguments.length?(this._domElement.style[volcano._browserPrefix+"TransformOrigin"]=(Number(a)?a+"px":a)+" "+(Number(d)?d+"px":d),this.isAutoUpdate&&this.updateTransform(),this):this._domElement.style[volcano._browserPrefix+
"TransformOrigin"]};a.transformString=function(a){for(var a=a.toLowerCase().split(" "),d=a.length,b=0,c=[],g=[0,0,0,0,0,0,0,0,0],j=0;b<d;b++)switch(a[b]){case "p":case "position":case "translate":j=c.push("translate3d(",this._string[this._positions[0]],"px,",this._string[this._positions[1]],"px,",this._string[this._positions[2]],"px) ");g[0]=j-6;g[1]=j-4;g[2]=j-2;break;case "rx":case "rotatex":case "rotationx":j=c.push("rotateX(",this._string[this._positions[3]],"deg) ");g[3]=j-2;break;case "ry":case "rotatey":case "rotationy":j=
c.push("rotateY(",this._string[this._positions[4]],"deg) ");g[4]=j-2;break;case "rz":case "rotatez":case "rotationz":j=c.push("rotateZ(",this._string[this._positions[5]],"deg) ");g[5]=j-2;break;case "s":case "scale":j=c.push("scale3d(",this._string[this._positions[6]],",",this._string[this._positions[7]],",",this._string[this._positions[8]],") "),g[6]=j-6,g[7]=j-4,g[8]=j-2}this._string=c;this._positions=g;this.isAutoUpdate&&this.updateTransform();return this};a.perspective=function(a){return arguments.length?
(this.isAutoUpdate&&this.updateTransform(),this._domElement.style[volcano._browserPrefix+"Perspective"]=typeof a==="string"?a:a+"px",this):this._domElement.style[volcano._browserPrefix+"Perspective"]};a.getStyle=function(a){return this._domElement.style[a]};a.setStyle=function(a,d,b){this._domElement.style[a]=d;arguments.length>2&&(this._domElement.style[volcano._browserPrefix+a]=d);return this};a._styleName="";a.styleName=function(a){return arguments.length?(this._styleName=a,this._domElement.className=
a,this):this._styleName!==""?this._styleName:this._domElement.className};a.html=function(a){return arguments.length?(this.innerHTML=a,this):this.innerHTML};a.updateTransform=function(){var a="",d=0;_.all(this._string,function(b){volcano.has3d==true?a+=b:b==="translate3d("?a+="translate(":volcano._browserPrefix=="ms"?d==4?a+="px)":d<4&&(a+=b):volcano._browserPrefix=="O"?d==4?a+="px)":d<4&&(a+=b):d==5||d==6||d==13||d==14||d==15||d==20||d==21||(a+=d==4?"px)":d==16?"scale(":b);d++;return true});this._domElement.style[volcano._transformProperty]=
a;return this};a._name="";a.name=function(a){return arguments.length?(this._name=a,this):this._name};a._id="";a.id=function(a){return arguments.length?(this._id=a,this._domElement.id=a,this):this._id};a.alpha=function(a){return arguments.length?(this._alpha=a,this._domElement.style.opacity=a,this):this._alpha};a._visible=false;a.visible=function(a){if(arguments.length){var d;this._visible=a;a===true?d="visible":d="hidden";this._domElement.style.visibility=d;return this}else return this._visible};
a.addClass=function(){for(var a=arguments,d=a.length,b=0;b<d;b++)if(!this.hasClass(a[b]))this._domElement.className=this._domElement.className?this._domElement.className+" "+a[b]:a[b];return this};a.removeClass=function(){for(var a=arguments,d=a.length,b=0;b<d;b++)if(this.hasClass(a[b]))this._domElement.className=this._domElement.className.replace(RegExp("(^|\\s+)"+a[b]+"(\\s+|$)")," ");return this};a.hasClass=function(a){return(" "+this._domElement.className+" ").replace(/[\n\t]/g," ").indexOf(" "+
a+" ")>-1};c.volcano.VObject=b})(window);(function(c){var b=function(a,d){this.initialize(a,d)},a=b.prototype=new volcano.VObject;a._domElement=null;a._elementsContent=null;a.eventCallback=null;a.parent=null;a._alpha=1;a._string=[];a._positions=[];a.isAutoUpdate=true;a._ox=0;a._oy=0;a._oz=0;a.VObject_initialize=a.initialize;a.initialize=function(a,d){this._domElement={};this._elementsContent=[];this.parent={};this.VObject_initialize(a,d)};a._checkRangeError=function(a,d){var b=this._elementsContent.length-1;d&&b++;if(a<0||a>b)throw"Elements Range Error";
};a._elementAdded=function(a,d,b){a.parent=this;var c=this._domElement,a=a._domElement,g=0;c.children.length>0&&(g=c.children[0].localName==="canvas"?1:0);c.children.length-g===d?c.appendChild(a):(console.log(this.getElementAt(d)._domElement),c.insertBefore(a,this.getElementAt(d)._domElement));b&&this.dispatchEvent("elementAdded")};a._elementRemoved=function(a,d,b){a.parent=null;this._domElement.removeChild(a._domElement);b&&this.dispatchEvent("elementRemoved")};a.getNumElements=function(){return this._elementsContent.length};
a.getElementAt=function(a){this._checkRangeError(a,false);return this._elementsContent[a]};a.addElement=function(a){var d=this.getNumElements();a.parent===this&&(d=this.getNumElements()-1);return this.addElementAt(a,d)};a.addElementAt=function(a,d){if(a===this)throw"Cannot add yourself as your Child";this._checkRangeError(d,true);var c=a.parent;if(c===this)return this.setElementIndex(a,d),a;else c instanceof b&&c.removeElement(a);this._elementsContent.splice(d,0,a);this._elementAdded(a,d);return a};
a.removeElement=function(a){return this.removeElementAt(this.getElementIndex(a))};a.removeElementAt=function(a){this._checkRangeError(a);this._elementRemoved(this._elementsContent[a],a);this._elementsContent.splice(a,1)};a.removeAllElements=function(){for(var a=this.getNumElements()-1;a>=0;a--)this.removeElementAt(a)};a.getElementIndex=function(a){return _.indexOf(this._elementsContent,a)};a.setElementIndex=function(a,d){this._checkRangeError(d);this.getElementIndex(a)!==d&&(this.removeElement(a),
this.addElementAt(a,d))};c.volcano.VSprite=b})(window);(function(c){var b=function(a){this.initialize(a)},a=b.prototype=new volcano.VSprite;a.VSprite_initialize=a.initialize;a.instance=null;a._nestLevel=0;a._body=null;a._onEnterFrameItems=null;a.initialize=function(a){this.instance={};this._body={};this._onEnterFrameItems=[];this.VSprite_initialize("#systemManager");createjs.Ticker.setFPS(this._fps);createjs.Ticker.addListener(this);this._body=_.isObject(a)?a:document.body;var d=this._body.style;this.setSize(d.width,d.height);this._body.appendChild(this._domElement);
this._domElement.style.overflow="hidden";this._domElement.style[volcano._browserPrefix+"TransformOrigin"]="0 0";volcano.has3d&&(this._domElement.style[volcano._browserPrefix+"Perspective"]="800px",this._domElement.style[volcano._browserPrefix+"PerspectiveOrigin"]="0 0",this._domElement.style[volcano._browserPrefix+"TransformStyle"]="flat");this._nestLevel=1;volcano.LayoutManager.systemManager=this;var b=this.instance=this;c.addEventListener("resize",function(){b.setSize(d.width,d.height);b.dispatchEvent("resize")})};
a.setSize=function(a,d){this.width(_.isNumber(a)?a:c.innerWidth).height(_.isNumber(d)?d:c.innerHeight);return this};a.nestLevel=function(a){if(!arguments.length)return this._nestLevel};a._fps=24;a.frameRate=function(a){return arguments.length?(this._fps=a,createjs.Ticker.setFPS(a),this):this._fps};a.VSprite__elementAdded=a._elementAdded;a._elementAdded=function(a,d,b){this.VSprite__elementAdded(a,d,b);a.nestLevel&&a.nestLevel(this.nestLevel()+1);a.getInitialized&&a.getInitialized()&&a.initComponent()};
a.enterFrameEventMode=false;a.tick=function(){var a=this._onEnterFrameItems.length;this.enterFrameEventMode&&this.dispatchEvent("enterFrame");for(var d=0;d<a;d++)if(_.isFunction(this._onEnterFrameItems[d]))this._onEnterFrameItems[d]()};a.addEnterFrameListener=function(a,d){if(_.indexOf(this._onEnterFrameItems,a)!==-1)return this;d?d=true:d=false;d?this._onEnterFrameItems.unshift(a):this._onEnterFrameItems.push(a);return this};a.removeEnterFrameListener=function(a){this._onEnterFrameItems.splice(_.indexOf(this._onEnterFrameItems,
a),1);return this};c.volcano.SystemManager=b})(window);(function(c){var b=function(){throw"LayoutManager cannot be initialized.";},a=function(){this._priorityBins=[];var a=0,d=-1;this.addObject=function(c,g){d<a?a=d=g:(g<a&&(a=g),g>d&&(d=g));var j=this._priorityBins[g];j?_.indexOf(j.items,c)!==1&&(j.items.push(c),j.length++):(j=new b,this._priorityBins[g]=j,j.items.push(c),j.length++)};this.removeLargest=function(){var b=null;if(a<=d){for(var c=this._priorityBins[d];!c||c.length===0;){d--;if(d<a)return null;c=this._priorityBins[d]}for(;0<c.items.length;){b=
c.items[0];this.removeChild(c.items[0],d);break}for(;!c||c.length===0;){d--;if(d<a)break;c=this._priorityBins[d]}}return b};this.removeLargestChild=function(a){for(var b=d,c=a.nestLevel();c<=b;){var f=this._priorityBins[b];if(f&&f.length>0){if(b===a.nestLevel())for(var k=0;k<f.items.length;k++){if(a===f.items[k])return this.removeChild(f.items[k],b),a}else for(k=0;k<f.items.length;k++)if(f.items[k]instanceof volcano.UIComponent&&a===f.items[k])return this.removeChild(f.items[k],b),f.items[k];b--}else if(b===
d&&d--,b--,b<c)break}return null};this.removeSmallest=function(){var b=null;if(a<=d){for(var c=this._priorityBins[a];!c||c.length===0;){a++;if(a>d)return null;c=this._priorityBins[a]}for(;0<c.items.length;){b=c.items[0];this.removeChild(c.items[0],a);break}for(;!c||c.length===0;){a++;if(a>d)break;c=this._priorityBins[a]}}return b};this.removeSmallestChild=function(b){for(var c=b.nestLevel();c<=d;){var k=this._priorityBins[c];if(k&&k.length>0){if(c===b.nestLevel())for(var i=0;i<k.items.length;i++)b===
k.items[i]&&this.removeChild(b,c);else for(var y in k.items)for(i=0;i<k.items.length;i++)if(k.items[i]instanceof volcano.UIComponent&&b===k.items[i])return this.removeChild(k.items[i],c),k.items[i];c++}else if(c===a&&a++,c++,c>d)break}return null};this.removeChild=function(a,b){for(var d=this._priorityBins[b>=0?b:a.nestLevel()],c=0;c<d.items.length;c++)if(d.items[c]===a)return d.items.splice(c,1),d.length--,a;return null};this.removeAll=function(){a=this._priorityBins.length=0;d=-1};this.isEmpty=
function(){return a>d};var b=function(){this.length=0;this.items=[]}};b.systemManager=null;b._updateCompleteQueue=new a;b._invalidatePropertiesQueue=new a;b._invalidatePropertiesFlag=false;b._invalidateClientPropertiesFlag=false;b._invalidateSizeQueue=new a;b._invalidateSizeFlag=false;b._invalidateClientSizeFlag=false;b._invalidateDisplayListQueue=new a;b._invalidateDisplayListFlag=false;b._waitAFrame=false;b._listenersAttached=false;b._originalFrameRate=NaN;b._targetLevel=Number.MAX_VALUE;b._currentObject=
{};b._usePhasedInstantiation=false;b.usePhasedInstantiation=function(a){if(arguments.length){if(b._usePhasedInstantiation!==a)b._usePhasedInstantiation=a}else return b._usePhasedInstantiation};b.invalidateProperties=function(a){if(!b._invalidatePropertiesFlag)b._invalidatePropertiesFlag=true,b._listenersAttached||b.attachListeners(b.systemManager);if(b._targetLevel<=a.nestLevel())b._invalidateClientPropertiesFlag=true;b._invalidatePropertiesQueue.addObject(a,a.nestLevel())};b.invalidateSize=function(a){if(!b._invalidateSizeFlag)b._invalidateSizeFlag=
true,b._listenersAttached||b.attachListeners(b.systemManager);if(b._targetLevel<=a.nestLevel())b._invalidateClientSizeFlag=true;b._invalidateSizeQueue.addObject(a,a.nestLevel())};b.invalidateDisplayList=function(a){if(!b._invalidateDisplayListFlag)b._invalidateDisplayListFlag=true,b._listenersAttached||b.attachListeners(b.systemManager);b._invalidateDisplayListQueue.addObject(a,a.nestLevel())};b._validateProperties=function(){for(var a=b._invalidatePropertiesQueue.removeSmallest();a;){if(a.nestLevel())b._currentObject=
a,a.validateProperties(),a.updateCompletePendingFlag()||(b._updateCompleteQueue.addObject(a,a.nestLevel()),a.updateCompletePendingFlag(true));a=b._invalidatePropertiesQueue.removeSmallest()}if(b._invalidatePropertiesQueue.isEmpty())b._invalidatePropertiesFlag=false};b._validateSize=function(){for(var a=b._invalidateSizeQueue.removeLargest();a;){if(a.nestLevel())b._currentObject=a,a.validateSize(),a.updateCompletePendingFlag()||(b._updateCompleteQueue.addObject(a,a.nestLevel()),a.updateCompletePendingFlag(true));
a=b._invalidateSizeQueue.removeLargest()}if(b._invalidateSizeQueue.isEmpty())b._invalidateSizeFlag=false};b._validateDisplayList=function(){for(obj=b._invalidateDisplayListQueue.removeSmallest();obj;){if(obj.nestLevel())b._currentObject=obj,obj.validateDisplayList(),obj.updateCompletePendingFlag()||(b._updateCompleteQueue.addObject(obj,obj.nestLevel()),obj.updateCompletePendingFlag(true));obj=b._invalidateDisplayListQueue.removeSmallest()}if(b._invalidateDisplayListQueue.isEmpty())b._invalidateDisplayListFlag=
false};b._doPhasedInstantiation=function(){b.usePhasedInstantiation()?b._invalidatePropertiesFlag?b._validateProperties():b._invalidateSizeFlag?b._validateSize():b._invalidateDisplayListFlag&&b._validateDisplayList():(b._invalidatePropertiesFlag&&b._validateProperties(),b._invalidateSizeFlag&&b._validateSize(),b._invalidateDisplayListFlag&&b._validateDisplayList());if(b._invalidatePropertiesFlag||b._invalidateSizeFlag||b._invalidateDisplayListFlag)b.attachListeners(b.systemManager);else{b.usePhasedInstantiation(false);
b._listenersAttached=false;for(var a=b._updateCompleteQueue.removeLargest();a;)!a.initialized()&&a.processedDescriptors()&&a.initialized(true),a.dispatchEvent("updateComplete"),a.updateCompletePendingFlag(false),a=b._updateCompleteQueue.removeLargest()}};b._doPhasedInstantiationCallback=function(){if(!(volcano.UIComponent._callLaterDispatcherCount>0)){b.systemManager.removeEnterFrameListener(b._doPhasedInstantiationCallback);if(volcano.UIComponent._catchCallLaterExceptions)try{b._doPhasedInstantiation()}catch(a){throw"callLaterError LayoutManager";
}else b._doPhasedInstantiation();b._currentObject=null}};b.validateNow=function(){if(!b.usePhasedInstantiation())for(var a=0;b._listenersAttached&&a++<100;)b._doPhasedInstantiation()};b.validateClient=function(a,d){var c=b._currentObject,e,g=false,j=b._targetLevel;if(b._targetLevel===Number.MAX_VALUE)b._targetLevel=a.nestLevel();for(;!g;){g=true;for(e=b._invalidatePropertiesQueue.removeSmallestChild(a);e;){if(e.nestLevel())b._currentObject=e,e.validateProperties(),e.updateCompletePendingFlag()||(b._updateCompleteQueue.addObject(e,
e.nestLevel()),e.updateCompletePendingFlag(true));e=b._invalidatePropertiesQueue.removeSmallestChild(a)}if(b._invalidatePropertiesQueue.isEmpty())b._invalidatePropertiesFlag=false,b._invalidateClientPropertiesFlag=false;for(e=b._invalidateSizeQueue.removeLargestChild(a);e;){if(e.nestLevel())b._currentObject=e,e.validateSize(),e.updateCompletePendingFlag()||(b._updateCompleteQueue.addObject(e,e.nestLevel()),e.updateCompletePendingFlag(true));if(b._invalidateClientPropertiesFlag&&(e=b._invalidatePropertiesQueue.removeSmallestChild(a))){b._invalidatePropertiesQueue.addObject(e,
e.nestLevel());g=false;break}e=b._invalidateSizeQueue.removeLargestChild(a)}if(b._invalidateSizeQueue.isEmpty())b._invalidateSizeFlag=false,b._invalidateClientSizeFlag=false;if(!d){for(e=b._invalidateDisplayListQueue.removeSmallestChild(a);e;){if(e.nestLevel())b._currentObject=e,e.validateDisplayList(),e.updateCompletePendingFlag()||(b._updateCompleteQueue.addObject(e,e.nestLevel()),e.updateCompletePendingFlag(true));if(b._invalidateClientPropertiesFlag&&(e=b._invalidatePropertiesQueue.removeSmallestChild(a))){b._invalidatePropertiesQueue.addObject(e,
e.nestLevel());g=false;break}if(b._invalidateClientSizeFlag&&(e=b._invalidateSizeQueue.removeLargestChild(a))){b._invalidateSizeQueue.addObject(e,e.nestLevel());g=false;break}e=b._invalidateDisplayListQueue.removeSmallestChild(a)}if(b._invalidateDisplayListQueue.isEmpty())b._invalidateDisplayListFlag=false}}if(j===Number.MAX_VALUE&&(b._targetLevel=Number.MAX_VALUE,!d))for(e=b._updateCompleteQueue.removeLargestChild(a);e;)e.initialized()||e.initialized(true),e.updateCompletePendingFlag(false),e=b._updateCompleteQueue.removeLargestChild(a);
b._currentObject=c};b._waitFrame=function(){b.systemManager.removeEnterFrameListener(b._waitFrame);b.systemManager.addEnterFrameListener(b._doPhasedInstantiationCallback);b._waitAFrame=true};b.attachListeners=function(a){b._waitAFrame?a.addEnterFrameListener(b._doPhasedInstantiationCallback):a.addEnterFrameListener(b._waitFrame);b._listenersAttached=true};c.volcano.LayoutManager=b})(window);(function(c){var b=function(){this.initialize()},a=b.prototype=new volcano.VSprite,f=function(a,b){this.method=a;this.args=b};b._callLaterDispatcherCount=0;b._catchCallLaterExceptions=false;a._methodQueue=null;a.systemManager=null;a._skin=null;a.states=null;a._deferredSetStyles=null;a._owner=null;a._updateCompletePendingFlag=false;a._processedDescriptiors=false;a._domElement=null;a.VSprite_initialize=a.initialize;a.initialize=function(a){this._methodQueue=[];this.systemManager=volcano.LayoutManager.systemManager;
this._skin={};this.states=[];this._deferredSetStyles={};this._owner={};this._domElement={};this.VSprite_initialize(a)};a.owner=function(a){return arguments.length?(this._owner=a,this):this._owner?this._owner:this.parent};a._nestLevel=0;a.nestLevel=function(a){if(arguments.length){if(a!==1){a>1&&this._nestLevel!==a?(this._nestLevel=a,this._updateCallbacks(),a++):a===0?this._nestLevel=a=0:a++;for(var b=this.getNumElements(),c=0;c<b;c++){var f=this.getElementAt(c);f&&f.nestLevel(a)}}}else return this._nestLevel};
a.processedDescriptors=function(a){if(arguments.length)this._processedDescriptors=a;else return this._processedDescriptors};a._updateCallbacks=function(){this._invalidateDisplayListFlag&&volcano.LayoutManager.invalidateDisplayList(this);this._invalidateSizeFlag&&volcano.LayoutManager.invalidateSize(this);this._invalidatePropertiesFlag&&volcano.LayoutManager.invalidateProperties(this);if(this.systemManager&&this._methodQueue.length>0&&!this._listeningForRender)this.systemManager.addEnterFrameListener(this._callLaterDispatcher),
this._listeningForRender=true};a.validateNow=function(){volcano.LayoutManager.validateClient(this)};a.setStyle=function(a,b,c){var f=false;_.isString(a)&&(this._deferredSetStyles[a]=arguments.length>2?{value:b,prefix:volcano._browserPrefix+a}:{value:b},f=true);f&&(this.invalidateProperties(),this.invalidateDisplayList());return this};a._measuredWidth=0;a.measuredWidth=function(a){return arguments.length?(this._measuredWidth=a,this):this._measuredWidth};a._measuredHeight=0;a.measuredHeight=function(a){return arguments.length?
(this._measuredHeight=a,this):this._measuredHeight};a._widthChanged=false;a._width=0;a._height=0;a._oldWidth=0;a._oldHeight=0;a.width=function(a){return arguments.length?(this._width=a,this._widthChanged=true,this.invalidateProperties(),this.invalidateDisplayList(),this):this._width};a._percentWidth=0;a._oldPercentWidth=0;a._percentWidthChanged=false;a.percentWidth=function(a){return arguments.length?(this._percentWidth=a,this._percentWidthChanged=true,this.invalidateProperties(),this.invalidateDisplayList(),
this):this._percentWidth};a._heightChanged=false;a.height=function(a){return arguments.length?(this._height=a,this._heightChanged=true,this.invalidateProperties(),this.invalidateDisplayList(),this):this._height};a._percentHeight=0;a._oldPercentHeight=0;a._percentHeightChanged=false;a.percentHeight=function(a){return arguments.length?(this._percentHeight=a,this._percentHeightChanged=true,this.invalidateProperties(),this.invalidateDisplayList(),this):this._height};a._enabled=false;a.enabled=function(a){if(arguments.length)this._enabled=
a,this.invalidateDisplayList(),this.dispatchEvent("enabledChanged");else return this._enabled};a._initialized=false;a.initialized=function(a){if(arguments.length)this._initialized=arguments[0],arguments[0]&&this.dispatchEvent("creationComplete");else return this._initialized};a.updateCompletePendingFlag=function(a){if(arguments.length)this._updateCompletePendingFlag=a;else return this._updateCompletePendingFlag};a.setActualSize=function(a,b){var c=false;if(this._width!=a)this._width=a,c=this._widthChanged=
true,this.dispatchEvent("widthChanged");if(this._height!=b)this._height=b,c=this._heightChanged=true,this.dispatchEvent("heightChanged");c&&(this.invalidateProperties(),this.invalidateDisplayList())};a._ox=0;a._oy=0;a._oz=0;a._x=0;a._y=0;a._z=0;a._oldX=0;a._oldY=0;a._oldZ=0;a.x=function(a){if(arguments.length){if(this._x!=a)this._x=a,this.invalidateProperties(),this.invalidateDisplayList();return this}else return this._string[this._positions[0]]+this._ox};a.y=function(a){if(arguments.length){if(this._y!=
a)this._y=a,this.invalidateProperties(),this.invalidateDisplayList();return this}else return this._string[this._positions[1]]+this._oy};a.z=function(a){if(arguments.length){if(this._z!=a)this._z=a,this.invalidateProperties(),this.invalidateDisplayList();return this}else return this._string[this._positions[2]]+this._oz};a.move=function(a,b,c){var f=false;if(this._x!=a)this._x=a,f=true;if(this._y!=b)this._y=b,f=true;if(arguments.length>=3&&this._z!=c)this._z=c,f=true;f&&(this.invalidateProperties(),
this.invalidateDisplayList())};a._rotationX=0;a._rotationY=0;a._rotationZ=0;a._oldRotationX=0;a._oldRotationY=0;a._oldRotationZ=0;a.rotationX=function(a){if(arguments.length){if(a!=this._rotationX)this._rotationX=a,this.invalidateProperties(),this.invalidateDisplayList();return this}else return this._string[this._positions[3]]};a.rotationY=function(a){if(arguments.length){if(a!=this._rotationY)this._rotationY=a,this.invalidateProperties(),this.invalidateDisplayList();return this}else return this._string[this._positions[4]]};
a.rotationZ=function(a){if(arguments.length){if(a!=this._rotationZ)this._rotationZ=a,this.invalidateProperties(),this.invalidateDisplayList();return this}else return this._string[this._positions[5]]};a.rotation=function(a,b,c){var f=false;if(a!=this._rotationX)this._rotationX=a,f=true;if(b!=this._rotationY)this._rotationY=b,f=true;if(c!=this._rotationZ)this._rotationZ=c,f=true;f&&(this.invalidateProperties(),this.invalidateDisplayList());return this};a._scaleX=1;a._scaleY=1;a._scaleZ=1;a._oldScaleX=
1;a._oldScaleY=1;a._oldScaleZ=1;a.scaleX=function(a){if(arguments.length){if(this._scaleX!=a)this._scaleX=a,this.invalidateProperties(),this.invalidateDisplayList();return this}else return this._string[this._positions[6]]};a.scaleY=function(a){if(arguments.length){if(this._scaleY!=a)this._scaleY=a,this.invalidateProperties(),this.invalidateDisplayList();return this}else return this._string[this._positions[7]]};a.scaleZ=function(a){if(arguments.length){if(this._scaleZ!=a)this._scaleZ=a,this.invalidateProperties(),
this.invalidateDisplayList();return this}else return this._string[this._positions[8]]};a.scale=function(a,b,c){switch(arguments.length){case 0:return this.isAutoUpdate&&this.updateTransform(),this._string[this._positions[6]];case 1:this._scaleZ=this._scaleY=this._scaleX=a;this.invalidateProperties();this.invalidateDisplayList();break;case 2:this._scaleX=a;this._scaleY=b;this._scaleZ=1;this.invalidateProperties();this.invalidateDisplayList();break;case 3:this._scaleX=a,this._scaleY=b,this._scaleZ=
c,this.invalidateProperties(),this.invalidateDisplayList()}return this};a._invalidatePropertiesFlag=false;a._invalidateSizeFlag=false;a._invalidateDisplayListFlag=false;a.invalidateProperties=function(){if(!this._invalidatePropertiesFlag)this._invalidatePropertiesFlag=true,volcano.LayoutManager.invalidateProperties(this)};a.invalidateSize=function(){if(!this._invalidateSizeFlag)this._invalidateSizeFlag=true,volcano.LayoutManager.invalidateSize(this)};a.invalidateDisplayList=function(){if(!this._invalidateDisplayListFlag)this._invalidateDisplayListFlag=
true,volcano.LayoutManager.invalidateDisplayList(this)};a.validateProperties=function(){if(this._invalidatePropertiesFlag)this.commitProperties(),this._invalidatePropertiesFlag=false};a.validateSize=function(a){if(a===true)for(a=0;a<this.getNumElements;a++)this.getElementAt(a).validateSize(true);this._invalidateSizeFlag&&this.measure()};a.validateDisplayList=function(){if(this._invalidateDisplayListFlag)this.updateDisplayList(this.measuredWidth(),this.measuredHeight()),this._invalidateDisplayListFlag=
false};a._listeningForRender=false;a._callLaterDispatcher=function(){b._callLaterDispatcherCount++;if(this._listeningForRender)this.systemManager.removeEnterFrameListener(this._callLaterDispatcher),this._listeningForRender=false;var a=this._methodQueue;this._methodQueue=[];var c=a.length;if(c>0)for(var f=0;f<c;f++){var g=a[f];g.method.apply(null,g.args)}b._callLaterDispatcherCount--};a.callLater=function(a,b){this._methodQueue.push(new f(a,b));if(!this._listeningForRender)this.systemManager.addEnterFrameListener(this._callLaterDispatcher),
this._listeningForRender=true};a.VSprite__elementAdded=a._elementAdded;a._elementAdded=function(a,b,c){this.VSprite__elementAdded(a,b,c);a.parentChanged(this);a.nestLevel(this.nestLevel()+1);a.initialized()||a.initComponent()};a.VSprite__elementRemoved=a._elementRemoved;a._elementRemoved=function(a,b,c){a.parentChanged(null);this.VSprite__elementRemoved(a,b,c)};a.parentChanged=function(a){a?this.parent=a.name==="systemManager"?a:a.parent:(this.parent=null,this.nestLevel(0))};a.initComponent=function(){this.initialized()||
(this.dispatchEvent("preinitialize"),this.createChildren(),this.childrenCreated(),this.initializationComplete())};a.getLayoutBoundsX=function(){};a.getLayoutBoundsY=function(){};a.createChildren=function(){};a.childrenCreated=function(){this.invalidateProperties();this.invalidateSize();this.invalidateDisplayList()};a.commitProperties=function(){var a=false;if(this._x!=this._oldx||this._y!=this._oldy||this._z!=this._oldz)this._oldx=this._x,this._oldy=this._y,this._oldz=this._z,this._string[this._positions[0]]=
this._x-this._ox,this._string[this._positions[1]]=this._y-this._oy,this._string[this._positions[2]]=this._z-this._oz,a=true;if(this._rotationX!=this._oldRotationX||this._rotationY!=this._oldRotationY||this._rotationZ!=this._oldRotationZ)this._oldRotationX=this._rotationX,this._oldRotationY=this._rotationY,this._oldRotationZ=this._rotationZ,this._string[this._positions[3]]=this._rotationX,this._string[this._positions[4]]=this._rotationY,this._string[this._positions[5]]=this._rotationZ,a=true;if(this._scaleX!=
this._oldScaleX||this._scaleY!=this._oldScaleY||this._scaleZ!=this._oldScaleZ)this._oldScaleX=this._scaleX,this._oldScaleY=this._scaleY,this._oldScaleZ=this._scaleZ,this._string[this._positions[6]]=this._scaleX,this._string[this._positions[7]]=this._scaleY,this._string[this._positions[8]]=this._scaleZ,a=true;a&&this.updateTransform();a=false;if(this._width!=this._oldWidth)this._oldWidth=this._width,this._domElement.style.width=this._width+"px",a=true;if(this._percentWidth!=this._oldPercentWidth&&
!a)this._oldPercentWidth=this._percentWidth,this._domElement.style.width=this._percentWidth+"%";a=false;if(this._height!=this._oldHeight)this._oldHeight=this._height,this._domElement.style.height=this._height+"px",a=true;if(this._percentHeight!=this._oldPercentHeight&&!a)this._oldPercentHeight=this._percentHeight,this._domElement.style.height=this._percentHeight+"%"};a.measure=function(){};a.updateDisplayList=function(){};a.initializationComplete=function(){this.dispatchEvent("initialize");this.processedDescriptors(true)};
c.volcano.UIComponent=b})(window);(function(c){var b=function(){this.initialize()},a=b.prototype=new volcano.UIComponent;a.UIComponent_initialize=a.initialize;a.initialize=function(){this.UIComponent_initialize()};a.createChildren=function(){this._validateSkinChange()};a._skinStateIsDirty=false;a.invalidateSkinState=function(){if(!this._skinStateIsDirty)this._skinStateIsDirty=true,this.invalidateProperties()};a.getSkinParts=function(){return null};a.attachSkin=function(){if(!this._skin){var a=this.getStyle("skinClass");a&&this.setSkin(new this[a]);
this._skin&&(this._skin.setOwner(this),this._skin.setStyleName(this),this.addElement(this._skin));this.findSkinParts();this.invalidateSkinState()}};a.clearSkinParts=function(){var a=this.getSkinParts();if(a)for(var b in a)this[b]!==null&&this.partRemoved(b,this[b])};a.detachSkin=function(){this._skin.setStyleName(null);this.clearSkinParts();this.removeElement(this._skin);this.setSkin(null)};a.findSkinParts=function(){var a=this.getSkinParts();if(a)for(var b in a){if(a[b]==true&&!(b in this._skin))throw"Required Skin Part Not Found";
b in this._skin&&(this[b]=this._skin[b],this[b]!==null&&this.partAdded(b,this[b]))}};a.getCurrentSkinState=function(){return null};a.partAdded=function(){};a.partRemoved=function(){};a._validateSkinChange=function(){this._skin&&this.detachSkin();this.attachSkin()};c.volcano.SkinnableComponent=b})(window);(function(){var c=function(){this.initialize()},b=c.prototype=new volcano.UIComponent;b._applicationDPI=160;b.measuredDefaultHeight=0;b.measuredDefaultWidth=0;b.UIComponent_initialize=b.initialize;b.initialize=function(){this.UIComponent_initialize()};b._currentState="";b.getCurrentState=function(){return this._currentState};b.setCurrentState=function(a){if(a!==this._currentState)this._currentState=a,this.commitCurrentState()};b.beginHighlightBitmapCapture=function(){};b.endHighlightBitmapCapture=
function(){};b.hasState=function(){return true};b.applyColorTransform=function(){};b.getElementPreferredHeight=function(a){return a instanceof volcano.LayoutBase?a.getPreffrredBoundsWidth():a instanceof volcano.UIComponent?a.getMeasuredWidth():a.getWidth()};b.getElementPreferredWidth=function(a){return a instanceof volcano.LayoutBase?a.getPreffrredBoundsHeight():a instanceof volcano.UIComponent?a.getMeasuredHeight():a.getHeight()};b.setElementPosition=function(a,b,c){a instanceof volcano.LayoutBase?
a.setLayoutBoundPosition(b,c,false):a instanceof volcano.UIComponent?a.move(b,c):(a.setX(b),a.setY(c))};b.setElementSize=function(a,b,c){a instanceof volcano.LayoutBase?a.setLayoutBoundSize(b,c,false):a instanceof volcano.UIComponent?a.setActualSize(b,c):(a.setWidth(b),a.setHeight(c))};b.UIComponent_getMeasuredWidth=b.getMeasuredWidth;b.UIComponent_getMeasuredHeight=b.getMeasuredHeight;b.getMeasuredWidth=function(){return Math.max(this.UIComponent_getMeasuredWidth(),this.measuredDefaultWidth)};b.getMeasuredHeight=
function(){return Math.max(this.UIComponent_getMeasuredHeight(),this.measuredDefaultHeight)};b.useSymbolColor=false;b.UIComponent_updateDisplayList=b.updateDisplayList;b.updateDisplayList=function(a,b){this.UIComponent_updateDisplayList(a,b);this.layoutContents(a,b);this.useSymbolColor&&this.applySymbolColor();useMinimumHitArea&&this.drawMinimumHitArea(a,b);this.drawBackground(a,b)};b.commitCurrentState=function(){};b.layoutContents=function(){};b.drawBackground=function(){};this.window.volcano.SkinBase=
c})(window);(function(c){var b=function(){throw"ColorUtil cannot be initialized.";};b.getRandomColor=function(){for(var a="0123456789ABCDEF".split(""),b="#",c=0;c<6;c++)b+=a[Math.round(Math.random()*15)];return b};c.volcano.ColorUtil=b})(window);(function(){var c=function(){this.initialize()},b=c.prototype=new volcano.VObject;b.VObject_initialize=b.initialize;b.initialize=function(){this.VObject_initialize(document.createElement("img"));_.bindAll(this,"errHandler")};b.errHandler=function(){this.errorImg();this.errorImg();if(this.errorImg()!==""&&this.errorImg()!==this._source)this._domElement.src=this.errorImg(),console.log(this.errorImg()+this._source)};b._source="";b.source=function(a){this._domElement.src=a;this._domElement.onerror=this.errHandler;
this._source=a;return this};b._errorImg="";c.DEFAULT_ERR_IMGAGE="";b.errorImg=function(a){return arguments.length?(this._errorImg=a,this):this._errorImg===""?c.DEFAULT_ERR_IMGAGE:this._errorImg};this.window.volcano.Image=c})(window);(function(){var c=function(a,b){this.initialize(a,b)},b=c.prototype=new volcano.VObject;b._domElement=null;b.VObject_initialize=b.initialize;b.initialize=function(a,b){var c=document.createElement("li"),k=document.createElement("img"),e=document.createElement("span"),g=document.createElement("div"),j=document.createElement("span"),i=document.createElement("span");c.appendChild(k);c.appendChild(e);c.appendChild(g);g.appendChild(j);g.appendChild(i);this.imgObj=new volcano.VObject(k);this.spanOnAirObj=
new volcano.VObject(e);this.divObj=new volcano.VObject(g);this.divBgSpanObj=new volcano.VObject(j);this.divTextSpanObj=new volcano.VObject(i);this.VObject_initialize(c,b);this.addClass("dramaitem");this.imgObj.addClass("poster");this.spanOnAirObj.addClass("chaton onair");this.divObj.addClass("desc");this.divBgSpanObj.addClass("bg");this.divTextSpanObj.addClass("text chat");this.divTextSpanObj._domElement.innerHTML="\uc7ac\uc5f4\uc528\uc9f1";this.imgObj.percentWidth(100);this.imgObj.percentHeight(100);
var y=this;setInterval(function(){y.setOnAir(y)},5E3)};b._dataProvider={};b.dataProvider=function(a){return arguments.length?(this._dataProvider=a,this.id(this._dataProvider.id),this.imageUrl(this._dataProvider.filepath),this.titleName(this._dataProvider.titlename),this.chat(this._dataProvider.chat),this.userLink(this._dataProvider.userlink),this.onStart(this._dataProvider.onstart),this.onEnd(this._dataProvider.onend),this.channel(this._dataProvider.channel),this.onDays(this._dataProvider.onday),
this.actors(this._dataProvider.actor),this.sinario(this._dataProvider.sinario),this.twitterQuery(this._dataProvider.twitterquery),this):this._dataProvider};b._titleName="";b.titleName=function(a){return arguments.length?(this._titleName=a,this):this._titleName};b._chat="";b.chat=function(a){return arguments.length?(this._chat=a,this._chat.trim()===""?(this.divTextSpanObj._domElement.innerHTML=this.titleName(),this.removeClassDivText("chat")):(this.divTextSpanObj._domElement.innerHTML=this._chat,this.addClassDivText("chat")),
this):this._chat};b._userLink="";b.userLink=function(a){return arguments.length?(this._userLink=a,this.spanOnAirObj._domElement.innerHTML=this._userLink===""?0:parseInt(this._userLink),this):this._userLink};b._onStart="";b.onStart=function(a){return arguments.length?(this._onStart=a,this.setOnAir(),this):this._onStart};b._onEnd="";b.onEnd=function(a){return arguments.length?(this._onEnd=a,this.setOnAir(),this):this._onEnd};b.setOnAir=function(a){a||(a=this);for(var b=new Date,c=a._onDays.length,k=
false,e=Number(b.getHours().toString()+b.getMinutes().toString()),g=0;g<c;g++)if(this._onDays[g]==b.getDay()&&a._onStart<=e&&a._onEnd>=e){k=true;break}k?a.addClassOnAir("onair"):a.removeClassOnAir("onair")};b._channel="";b.channel=function(a){return arguments.length?(this._channel=a,this):this._channel};b._onDays=[];b.onDays=function(a){return arguments.length?(this._onDays=a,this.setOnAir(),this):this._onDays};b._actors=[];b.actors=function(a){return arguments.length?(this._actors=name,this):this._actors};
b._sinario="";b.sinario=function(a){return arguments.length?this:this._sinario};b._twitterQuery="";b.twitterQuery=function(a){return arguments.length?this:this._twitterQuery};b.imageUrl=function(a){this.imgObj._domElement.src=a;return this};b.addClassImage=function(){for(var a=arguments,b=a.length,a=a[0],c=1;c<b;c++)a=a+", "+a;this.imgObj.addClass(a);return this};b.removeClassImage=function(){for(var a=arguments,b=a.length,a=a[0],c=1;c<b;c++)a=a+", "+a;this.imgObj.removeClass(a);return this};b.addClassOnAir=
function(){for(var a=arguments,b=a.length,a=a[0],c=1;c<b;c++)a=a+", "+a;this.spanOnAirObj.addClass(a);return this};b.removeClassOnAir=function(){for(var a=arguments,b=a.length,a=a[0],c=1;c<b;c++)a=a+", "+a;this.spanOnAirObj.removeClass(a);return this};b.addClassDiv=function(){for(var a=arguments,b=a.length,a=a[0],c=1;c<b;c++)a=a+", "+a;this.divObj.addClass(a);return this};b.removeClassDiv=function(){for(var a=arguments,b=a.length,a=a[0],c=1;c<b;c++)a=a+", "+a;this.divObj.removeClass(a);return this};
b.addClassDivBg=function(){for(var a=arguments,b=a.length,a=a[0],c=1;c<b;c++)a=a+", "+a;this.divBgSpanObj.addClass(a);return this};b.removeClassDivBg=function(){for(var a=arguments,b=a.length,a=a[0],c=1;c<b;c++)a=a+", "+a;this.divBgSpanObj.removeClass(a);return this};b.addClassDivText=function(){for(var a=arguments,b=a.length,a=a[0],c=1;c<b;c++)a=a+", "+a;this.divTextSpanObj.addClass(a);return this};b.removeClassDivText=function(){for(var a=arguments,b=a.length,a=a[0],c=1;c<b;c++)a=a+", "+a;this.divTextSpanObj.removeClass(a);
return this};volcano.LiImageForm=c})(window);(function(c){function b(a){if(U.isKeyboardEvent){a=a.keyCode;H=V=false;var b=100,c=10,d=false;if(a==38||a==39)b=-100,c=-10,d=true;else if(a==40||a==37)b=100,c=10,d=true;d&&(T&&(t=v,B=z,T=false),w.x(w.x()+b),v+=c,s=v-t+s,t=v)}}function a(a){if(U.isMouseEvent){a=c.event||a;a=Math.max(-1,Math.min(1,a.wheelDelta||-a.detail));H=V=false;var b=100,d=10;a>0?(b=-100,d=-10):(b=100,d=10);T&&(t=v,B=z,T=false);w.x(w.x()+b);v+=d;s=v-t+s;t=v}}function f(){J=innerHeight;Z=innerWidth;M=-(Z/2);K=J/ia;x=J-K*2;x<W?(x=
W,K=(J-W)*0.5):x>X&&(x=X,K=(J-X)*0.5);D=G=F?x/(q+0.7)-o/(q/(q-1)):x/q-o/(q/(q-1));$=x;aa=u*D+o*(u-1);R.width(0).height(0).x(-M);Y.width(0).height(0).x(0).y(K);w.height(0).width(0);for(var a=0,b=0,c=0,c=0;c<I;c++)a=c%u*(D+o)+M,b=parseInt(c/(I/q))*(G+o),ga[c].width(D).height(G).x(a).y(b);if(F)for(c=P;c<m;c++)a=c%u*(D+o)+M,b=parseInt(q)*(G+o)-o+fa,ha[c-P].width(D).height(G).x(a).y(b);i.imageWidth=D;i.imageHeight=G;i.viewPortBack=M;R.setStyle("perspective-origin-y",innerHeight/2,volcano._browserPrefix)}
function d(){E.width(innerWidth).height(innerHeight);n=innerWidth-aa>0?0:innerWidth-aa;p=innerHeight-$>0?0:innerHeight-$;if(V)L==="auto"?w.move(v,z,0):L==="vertical"?(w.move(0,z,0),viewPort.move(0,z,0)):L==="horizontal"&&w.move(v,0,0),h>0.3?(h-=0.3*r,h=h<0?0:h):h<-0.3?(h+=0.3*r,h=h>0?0:h):h=0;else if(H)h>0.3?(h-=0.3*r,h=h<0?0:h):h<-0.3?(h+=0.3*r,h=h>0?0:h):h=0;else{var a=w.x(),b=w.y();if(Math.abs(s)>0||Math.abs(A)>0)s=Math.abs(s)<0.9?0:s*y,A=Math.abs(A)<0.9?0:A*y;if(U.isBounceBack){S=false;if(a>0||
a<n){var c=a>0?0:n;s===0||ba?(s=(c-a)*ja,ba=true):s*=ka;S=true}if(b>0||b<p)c=b>0?0:p,A===0||ca?(A=(c-b)*ja,ca=true):A*=ka}var d,e;if(Math.abs(s)>0.01||Math.abs(A)>0.01){if(L==="auto"){d=a>0&&a<1?0:a>n-1&&a<n?n:a+s;e=b>0&&b<1?0:b>p-1&&b<p?p:b+A;if(a>0&&a<1||a>n-1&&a<n)ba=false;if(b>0&&b<1||b>p-1&&b<p)ca=false}else if(L==="vertical"){if(d=0,e=b>0&&b<1?0:b>p-1&&b<p?p:b+A,b>0&&b<1||b>p-1&&b<p)ca=false}else if(L==="horizontal"){d=a>0&&a<1?0:a>n-1&&a<n?n:a+s;if(a>0&&a<1||a>n-1&&a<n)ba=false;e=0}w.move(d,
e,0)}if(volcano.has3d){N=s;if(N>O&&S===false)C!=="leftFast"&&(r=0.1),C="leftFast";else if(N<-O&&S===false)C!=="rightFast"&&(r=0.1),C="rightFast";else if(0<N&&N<da&&S===false)C!=="leftSlow"&&(r=0.1),C="leftSlow";else if(0>N&&N>da&&S===false)C!=="rightSlow"&&(r=0.1),C="rightSlow";else if(0===N&&N===da||S===true)C!=="stop"&&(r=0.1),C="stop";da=N;r=r+0.3>na?1:r+0.3;C==="stop"||S?h>0.3?(h-=0.3*r,h=h<0?0:h):h<-0.3?(h+=0.3*r,h=h>0?0:h):h=0:C==="leftSlow"?(h=h<-O?-O:h-0.8*r,h=h<0?0:h):C==="rightSlow"?(h=
h>O?O:h+0.8*r,h=h>0?0:h):C==="leftFast"?h=h>=O?O:h+la*r:C==="rightFast"&&(h=h<=-O?-O:h-la*r)}}volcano.has3d&&Y.rotationY(-h)}function k(a){if(U.isMouseEvent){var b=volcano.hasTouch?a.touches[0]:a;a.preventDefault();E.addEventListener(volcano.e.MOUSE_MOVE,e);E.addEventListener(volcano.e.MOUSE_UP,g);E.addEventListener(volcano.e.CANCEL,g);V=false;H=true;l=b.pageX-w.x();Q=b.pageY-w.y();T=true}}function e(a){if(U.isMouseEvent){var b=volcano.hasTouch?a.touches[0]:a;a.preventDefault();V=true;H=false;a=b.pageY;
v=b.pageX-l;z=a-Q;T&&(t=v,B=z,T=false);s=v-t;A=z-B;t=v;B=z}}function g(){H=V=false;E.removeEventListener(volcano.e.MOUSE_MOVE,e);E.removeEventListener(volcano.e.MOUSE_UP,g);E.removeEventListener(volcano.e.CANCEL,g)}var j=function(a){this.initialize(a)},i=j.prototype=new volcano.VSprite,y=0.95,n,p,l=0,Q=0,v=0,z=0,s=0,A=0,t=0,B=0,H,L="horizontal",r=0,I=68,q=2,u=I/q,o=20,F=true,P=-1,m=-1,fa=5,J,Z,ia=10,K,x,G,D,$,aa,M,ga=[],ha=[];i._imageArr=[];i._imageReflectionArr=[];i.isBounceBack=true;i.isMouseEvent=
true;i.isKeyboardEvent=true;var V=false,ka=0.7,ja=0.1,ba=false,ca=false,O=30,la=2,N=0,h=0,da=0,S=false,C="stop",na=1,r=0.1,T=false,E,w,Y,R,ma=false,ea=[],W=200,X=500,U;i.VSprite_initialize=i.initialize;i.initialize=function(a){U=this;this.VSprite_initialize();E=a};i.drawView=function(){!ma&&ea.length>0&&(ma=true,this.initContainer())};i.initContainer=function(){J=innerHeight;Z=innerWidth;this.isBounceBack=true;K=J/ia;I=ea.length;u=I/q;x=J-K*2;x<W?(x=W,K=(J-W)*0.5):x>X&&(x=X,K=(J-X)*0.5);D=G=F?x/(q+
0.7)-o/(q/(q-1)):x/q-o/(q/(q-1));$=x;aa=u*D+o*(u-1);M=-(Z/2);R=(new volcano.VSprite).id("mainContainer").width(0).height(0).x(-M);Y=(new volcano.VSprite).id("container").width(0).height(0).x(0).y(K);var c=document.createElement("ul");w=(new volcano.VSprite(c)).id("viewPort").height(0).width(0);this.addElement(R);R.addElement(Y);Y.addElement(w);for(var e=0,g=0,c=c=0;c<I;c++)e=c%u*(D+o)+M,g=parseInt(c/(I/q))*(G+o),e=(new volcano.LiImageForm(void 0,{defaultValue:"off"})).width(D).height(G).x(e).y(g).dataProvider(ea[c]),
F&&parseInt(c/(I/q))===q-1&&(P===-1&&(P=c),m=c+1),w.addElement(e),ga.push(e);this._imageArr=ga;if(F){for(c=P;c<m;c++)e=c%u*(D+o)+M,g=parseInt(q)*(G+o)-o+fa,e=(new volcano.LiImageForm(void 0,{defaultValue:"off"})).width(D).height(G).x(e).y(g),w.addElement(e),e.rotationX(180),ha.push(e);this._imageReflectionArr=ha}this.sysMgr=E;this.transViewPort=w;this.container=Y;this.mainContainer=R;this.imageWidth=D;this.imageHeight=G;this.viewPortBack=M;E.addEventListener(volcano.e.MOUSE_DOWN,k);E.addEventListener("resize",
f);E.addEnterFrameListener(d);E.setStyle("Perspective","0px",volcano._browserPrefix);R.setStyle("Perspective","800px",volcano._browserPrefix);R.setStyle("perspective-origin-y",innerHeight/2,volcano._browserPrefix);E.addEventListener("mousewheel",a,false);document.body.addEventListener("keydown",b)};i.dataProvider=function(a){ea=a};i.setConfig=function(a){q=a.cols===void 0?q:a.cols;o=a.imageGap===void 0?o:a.imageGap;F=a.isReflection===void 0?F:a.isReflection};i.setChannelUserLink=function(){};i.setNewMessage=
function(){};c.volcano.ThreeDimensionsScroller=j})(window);
